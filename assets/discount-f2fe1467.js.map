{"version":3,"file":"discount-f2fe1467.js","sources":["../../src/js/get-api.js","../../src/js/card.js","../../src/js/modal-product.js","../../src/js/products.js","../../src/js/pagination.js","../../src/js/popular.js","../../src/js/discount/api/discount-api.js","../../src/js/discount/api/storage.js","../../src/js/discount/markup-discount.js","../../src/js/discount/discount.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://food-boutique.b.goit.study/api/';\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getProductsCategories() {\n  const response = await axios.get(`${BASE_URL}products/categories`);\n\n  return response.data;\n}\n\nexport async function getProductsByParams({\n  keyword,\n  category,\n  page,\n  limit,\n  sort,\n} = {}) {\n  const params = {\n    keyword,\n    category,\n    page,\n    limit,\n  };\n\n  if (sort && sort.key && sort.value) {\n    params[sort.key] = sort.value;\n  }\n\n  const response = await axios.get(`${BASE_URL}products`, { params });\n\n  return response.data;\n}\n\nexport async function getProductById(id) {\n  const response = await axios.get(`${BASE_URL}products/${id}`);\n\n  return response.data;\n}\n\nexport async function getPopularProducts(limit) {\n  const response = await axios.get(`${BASE_URL}products/popular`, {\n    params: { limit },\n  });\n\n  return response.data;\n}\n\nexport async function getDiscountProducts() {\n  const response = await axios.get(`${BASE_URL}products/discount`);\n\n  return response.data;\n}\n\nexport async function orderSubscriptionToNewProducts(email) {\n  const response = await axios.post(`${BASE_URL}subscription/`, {\n    email,\n  });\n\n  return response.data;\n}\n\nexport async function createNewOrder(email, [{ productId, amount }]) {\n  const response = await axios.post(`${BASE_URL}orders`, {\n    email,\n    products: [\n      {\n        productId,\n        amount,\n      },\n    ],\n  });\n\n  return response.data;\n}\n","// import axios from 'axios';\n// import { createNewOrder } from './get-api';\n// new\n\n\nconst STORAGE_KEY = 'added-item';\nlet dataForm = [];\n\nconst itemCount = document.querySelector('.js-item-count');\nconst emptyBasket = document.querySelector('.js-empty-basket');\nconst filledBasket = document.querySelector('.js-filled-basket');\nconst itemsContainer = document.querySelector('.js-items-container');\nconst totalSum = document.querySelector('.total-count-text');\nconst checkoutForm = document.querySelector('.checkout-form');\n\ncheckoutForm.addEventListener('submit', onSubmit);\n\naddLocalStorageData();\n\nfunction addLocalStorageData() {\n  dataForm = [\n    {\n      _id: '640c2dd963a319ea671e37d4',\n      name: 'Banana',\n      img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37d4.png',\n      category: 'Fresh_Produce',\n      price: 0.69,\n      size: '1 piece',\n      is10PercentOff: true,\n      popularity: 108,\n    },\n    {\n      _id: '640c2dd963a319ea671e383b',\n      name: 'Ackee',\n      img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png',\n      category: 'Fresh_Produce',\n      price: 8.99,\n      size: '16 oz',\n      is10PercentOff: false,\n      popularity: 0,\n    },\n    {\n      _id: '640c2dd963a319ea671e3864',\n      name: 'Black Beans',\n      img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3864.png',\n      category: 'Pantry_Items',\n      price: 1.99,\n      size: '16oz',\n      is10PercentOff: false,\n      popularity: 0,\n    },\n    {\n      _id: '640c2dd963a319ea671e37ad',\n      name: 'Black Olives',\n      img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37ad.png',\n      category: 'Fresh_Produce',\n      price: 3.99,\n      size: '1 jar (16 oz)',\n      is10PercentOff: false,\n      popularity: 0,\n    },\n  ];\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataForm));\n}\n\nonLoad();\n\nfunction onLoad() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    if (!data) return;\n    dataForm = JSON.parse(data);\n    const basketItemAdded = dataForm.length;\n    itemCount.textContent = basketItemAdded;\n    isBasketEmpty(basketItemAdded);\n    itemsContainer.innerHTML = basketItemsMarkup(dataForm);\n    totalSum.textContent = `$${totalSumCount(dataForm)}`;\n  } catch (error) {\n    // add notifix message about something wrong\n    console.log(error.message);\n  }\n}\n\nfunction isBasketEmpty(itemAdded) {\n  if (itemAdded === 0) {\n    emptyBasket.classList.remove('hide');\n    filledBasket.classList.add('hide');\n    return;\n  } else {\n    emptyBasket.classList.add('hide');\n    filledBasket.classList.remove('hide');\n  }\n}\n\nfunction basketItemsMarkup(array) {\n  console.log(array);\n  return array\n    .map(\n      ({ _id: id, name, img, category, size, is10PercentOff, price }) =>\n        `<li class=\"item-container\" data-id=\"${id}\">\n          <a class=\"item-img-link\" href=\"\">\n            <img class=\"item-img\" src=\"${img}\" alt=\"${name}\" loading=\"lazy\"/>\n          </a>\n          <div class=\"item-info\">\n            <div class=\"item-title-container\">\n              <h4 class=\"item-title\">${name}</h4>\n              <button type=\"button\" class=\"delete-item-button\">\n                <svg class=\"delete-item-icon\" width=\"20\" height=\"20\">\n                  <use href=\"./images/icons1.svg#delete-icon\"></use>\n                  <!-- <use href=\"./images/icons.svg#delete-icon\"></use> -->\n                </svg>\n              </button>\n            </div>\n            <ul class=\"item-parameter-list\">\n              <li class=\"item-category\">Category:</li>\n              <li class=\"item-parameter\">${category}</li>\n              <li class=\"item-category\">Size:</li>\n              <li class=\"item-parameter\">${size}</li>\n            </ul>\n            <p class=\"item-price\">$${price}</p>\n          </div>\n        </li>`\n    )\n    .join('');\n}\n\nfunction totalSumCount(array) {\n  let totalPrice = 0;\n  let count = 1;\n  array.forEach(({ price }) => {\n    totalPrice += price * count;\n  });\n  return totalPrice;\n}\n\nasync function onSubmit(event) {\n  try {\n    event.preventDefault();\n    const email = event.target.elements.email.value;\n    let order = [];\n    // if count abcent than 1\n    dataForm.forEach(({ _id: productId, amount  = 1 }) => {\n      order.push({ productId, amount });\n    });\n    const apiResponse = await createNewOrder(email, order);\n    console.log(apiResponse);\n  } catch (error) {\n    // add notifix message about something wrong\n    console.log(error.message);\n  }\n}\n\n// const BASE_URL = 'https://food-boutique.b.goit.study/api/';\n// axios.defaults.baseURL = BASE_URL;\n\n// async function createNewOrder(email, products) {\n//   return await axios\n//     .post(`${BASE_URL}orders`, {\n//       email,\n//       products\n//     })\n//     .then(response => response.data);\n// }\n\n\n","// modal-product.js\n\nconst modalProduct = document.getElementById('modalProduct');\nconst closeModalProductBtn = document.getElementById('closeModalProductBtn');\nconst addToCartBtn = document.getElementById('addToCartBtn');\nconst modalProductImage = document.getElementById('modalProductImage');\nconst modalProductName = document.getElementById('modalProductName');\nconst modalProductCategory = document.getElementById('modalProductCategory');\nconst modalProductSize = document.getElementById('modalProductSize');\nconst modalProductPopularity = document.getElementById('modalProductPopularity');\nconst modalProductDescription = document.getElementById('modalProductDescription');\nconst modalProductPrice = document.getElementById('modalProductPrice');\n\nexport function openModal(product) {\n    if (!product || !product.img) {\n        console.error('Product data is missing or incomplete.');\n        return;\n    }\n    // console.log(product); \n\n    modalProductImage.src = product.img;\n    modalProductName.textContent = product.name;\n    modalProductCategory.textContent = `Category: ${product.category}`;\n    modalProductSize.textContent = `Size: ${product.size}`;\n    modalProductPopularity.textContent = `Popularity: ${product.popularity}`;\n    modalProductDescription.textContent = product.description;\n    modalProductPrice.textContent = `Price: ${product.price}`;\n\n    document.body.style.overflow = 'hidden';\n    modalProduct.style.display = 'block';\n    window.addEventListener('click', outsideModalClick);\n}\n\nfunction closeModal() {\n    document.body.style.overflow = '';\n    modalProduct.style.display = 'none';\n    window.removeEventListener('click', outsideModalClick);\n}\n\n// Event listeners\ncloseModalProductBtn.addEventListener('click', closeModal);\n\n// Close the modal if the user clicks outside of it\nwindow.addEventListener('click', function (event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n});\n\ndocument.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\nfunction outsideModalClick(event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n}\n// Close the modal if the user clicks outside of it\nwindow.addEventListener('click', function (event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n});\n\n// Add product to cart logic\naddToCartBtn.addEventListener('click', function () {\n    // Implement logic to add the product to the cart and update the UI\n    // You can use localStorage to store the cart information\n    // Example:\n    // const productId = product.id;\n    // const cart = JSON.parse(localStorage.getItem('cart')) || {};\n    // cart[productId] = (cart[productId] || 0) + 1;\n    // localStorage.setItem('cart', JSON.stringify(cart));\n\n    // After updating the cart, you might want to close the modal\n    closeModal();\n});","import { getProductsByParams } from './get-api';\n\nimport { openModal } from './modal-product';\n\nconst productsList = document.querySelector('.list-prod');\n\nconst defaultParameters = {\n  keyword: '',\n  category: '',\n  page: 1,\n  limit: 9,\n};\n\n// ________________\n\nexport function saveData(data) {\n  localStorage.setItem('defaultParameters', JSON.stringify(defaultParameters));\n}\n\nexport function getData() {\n  try {\n    return (result = localStorage.getItem('defaultParameters'));\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nsaveData();\n\n// _______________________________\n\nexport function addMarkup(el, markup) {\n  el.innerHTML = markup;\n}\n\nasync function displayProducts() {\n  try {\n    const { results } = await getProductsByParams(defaultParameters);\n    console.log('Products:', results); // Додайте цей рядок\n    defaultParameters.page += 1; //!додала\n    const markup = createCardMarkup(results);\n    addMarkup(productsList, markup);\n\n    const productCards = document.querySelectorAll('.prod-item');\n    productCards.forEach(card => {\n      card.addEventListener('click', () => {\n        const productId = card.getAttribute('data-js-product-id');\n        // console.log('Selected productId:', productId);\n        const selectedProduct = results.find(\n          product => product._id.toString() === productId\n        );\n\n        if (selectedProduct) {\n          openModal(selectedProduct);\n        } else {\n          console.error('Selected product not found:', productId);\n        }\n\n        // console.log(productId);\n        // console.log(results);\n      });\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function createCardMarkup(results) {\n  return results\n    .map(({ _id, name, img, category, size, price, popularity }) => {\n      return `\n        <li class=\"prod-item\" data-js-product-id=${_id}>   \n          <div class=\"prod-pic\">\n            <svg class=\"discont-prod\" width=\"60\" height=\"60\" style=\"visibility: hidden;\">\n              <use href=\"../images/icons.svg#shopping-cart\"></use>\n            </svg>\n            <img class=\"prod-img\" src=${img} alt=${name} loading=\"lazy\">\n          </div>\n          <h3 class=\"title-prod\">${name}</h3>\n          <div class=\"feature\">\n            <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category}</span></p>\n            <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n            <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n          </div>\n          <div class=\"buing-prod\">\n            <p class=\"price-prod\">&#36; ${price}</p>\n            <button class=\"buy-btn\" type=\"button\">\n              <svg class=\"buy-svg\" width=\"18\" height=\"18\">\n                <use href=\"../images/icons.svg#shopping-cart\"></use>\"></use>\n              </svg>\n            </button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n}\n\ndisplayProducts();\nexport { displayProducts };\n","// import Pagination from 'tui-pagination';\n// import 'tui-pagination/dist/tui-pagination.css';\n// import { displayProducts } from './products';\n\n// const itemsPerPage = 9;  \n// let totalItems = 540; //! Загальна кількість елементів  540 : 9 = 60 сторінок\n// let currentPage = 1;\n\n// const paginationContainer = document.getElementById('pagination');\n\n// // Ініціалізація екземпляру пагінації\n// const pagination = new Pagination(paginationContainer, {\n//   totalItems,\n//   itemsPerPage,\n//   visiblePages: 5, \n//   centerAlign: true,\n// });\n\n// pagination.on('beforeMove', (event) => {\n//   currentPage = event.page;\n//   updatePage(currentPage);\n// });\n\n// async function updatePage(pageNumber) {\n//   displayProducts(pageNumber);\n// }\n\n// updatePage(currentPage);\n\n\n\n//! Варіант 2 \nimport { displayProducts } from './products'; //! імпортувала\n\nconst paginationContainer = document.getElementById('pagination');\n\n// Функція для відображення пагінації\nasync function displayPagination(currentPage, totalPages) {\n  const paginationContainer = document.getElementById('pagination'); \n  paginationContainer.innerHTML = '';\n\n  if (totalPages > 1) {\n    const MAX_VISIBLE_PAGES = 5; \n\n    // Додаємо посилання для поточної та сусідніх сторінок\n    for (\n      let i = Math.max(1, currentPage - 1);\n      i <= Math.min(totalPages, currentPage + 1);\n      i += 1\n    ) {\n      appendPageLink(i, i === currentPage);\n    }\n\n    // Додаємо \"...\"\n    if (totalPages - currentPage > MAX_VISIBLE_PAGES - 2) {\n      const ellipsis = document.createElement('span');\n      ellipsis.textContent = '. . .';\n      paginationContainer.appendChild(ellipsis);\n    }\n\n    // Додаємо посилання на останні дві сторінки\n    for (\n      let i = Math.max(\n        totalPages - MAX_VISIBLE_PAGES + 4\n        // totalPages - MAX_VISIBLE_PAGES + 1\n      );\n      i <= totalPages;\n      i += 1\n    ) {\n      appendPageLink(i);\n    }\n  }\n}\n\n// Функція для додавання посилання на сторінку до пагінації\nfunction appendPageLink(pageNumber, isActive = false) {\n  const paginationContainer = document.getElementById('pagination'); // Додав цей рядок\n  const li = document.createElement('li');\n  const linkWrapper = document.createElement('div');\n  linkWrapper.classList.add('pagination-link');\n  const link = document.createElement('a');\n  link.href = `javascript:void(0);`;\n  link.textContent = pageNumber;\n\n  if (isActive) {\n    linkWrapper.classList.add('active');\n  }\n\n  link.addEventListener('click', () => onPageLinkClick(pageNumber));\n  linkWrapper.appendChild(link);\n  li.appendChild(linkWrapper);\n  paginationContainer.appendChild(li);\n}\n\n// Обробник кліку на посилання пагінації\nfunction onPageLinkClick(pageNumber) {\n  displayProducts(pageNumber); //! змінила на імпортовану функцію\n  displayPagination(pageNumber, 60); // Загальна кількість сторінок\n}\n\n// Відображення початкової сторінки\nconst initialPage = 1;\ndisplayProducts(initialPage); //! змінила на імпортовану функцію\ndisplayPagination(initialPage, 60); // Загальна кількість сторінок","import { getPopularProducts } from './get-api';\n\nconst popularList = document.querySelector('.popular-list');\n\nfunction createMarkup(items) {\n  return items\n    .map(({ _id, name, img, category, popularity, size }) => {\n      // додав строку 15  та ретерн на 17\n      const firstDigit = parseInt(popularity.toString()[0]);\n\n      return `  <li class=\"popular-item\">\n      <button class=\"btn-add\" type=\"button\">\n        <svg class=\"svg-add\" width=\"12\" height=\"12\">\n          <use href=\"./images/icons.svg#shopping-cart\"></use>\n        </svg>\n      </button>\n      <span class=\"product-added\">\n        <svg class=\"svg-added\" width=\"12\" height=\"12\">\n          <use href=\"./images/icons.svg#check\"></use>\n        </svg>\n      </span>\n        <div class=\"popular-card\" id=\"${_id}\">\n          <div class=\"popular-box-img\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\"  width=\"56\" />\n          </div>\n          <div class=\"popular-description\">\n            <h3 class=\"popular-card-title\">${name}</h3>\n            <p class=\"popular-card-text category\">Category: <span class=\"popular-text\">${category.replace(\n              '_',\n              ' '\n            )}</span></p>\n            <div class=\"card-descr\">\n              <p class=\"popular-card-text\">Size: <span class=\"popular-text\">${size}</span></p>\n              <p class=\"popular-card-text\">Popularity: <span class=\"popular-text\">${firstDigit}</span></p>\n            </div>\n          </div>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n\ngetPopularProducts(5)\n  .then(data => {\n    popularList.insertAdjacentHTML('beforeend', createMarkup(data));\n\n    const popularItem = document.querySelectorAll('.popular-item');\n\n    [...popularItem].forEach(item => {\n      const productAdded = item.children[1];\n      productAdded.classList.add('visually-hidden');\n\n      const btnAdd = item.children[0];\n      btnAdd.addEventListener('click', handleOrder);\n\n      function handleOrder(event) {\n        alert('Product add to Order');\n        btnAdd.classList.add('visually-hidden');\n        productAdded.classList.remove('visually-hidden');\n        btnAdd.removeEventListener('click', handleOrder);\n      }\n\n      const popularCard = item.children[2];\n      popularCard.addEventListener('click', handleProductCard);\n\n      function handleProductCard() {\n        alert('This is product cart');\n        popularCard.removeEventListener('click', handleProductCard);\n      }\n    });\n\n    // function onF(event) {\n    //   event.preventDefault();\n    //   let target = event.target;\n    //   // if (target.className === 'popular-card') {\n    //   //   alert('This is product cart');\n    //   //   console.log(target);\n    //   // }\n\n    //   if ( target.nodeName === 'LI') {\n    //     console.log('pppp');\n    //   }\n    //   console.log(event.target);\n    // }\n    // popularList.addEventListener('click', onF);\n  })\n  .catch(error => {\n    console.error(error);\n  });\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api/';\n\nexport function getProducts() {\n  return axios.get('products/discount').then(response => response.data);\n}\n","const STORAGE_KEY = 'product-discount';\n\nexport function getData() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.lof(error.message);\n  }\n}\n\nexport function saveData(items) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n","export function createMarkup(items = []) {\n  return items\n    .map(item => {\n      return ` <div class=\"card-product-discount\" data-id=\"${item._id}\">\n    <div class=\"card-product-wrapper\">\n        <img class=\"card-product-img\"\n            src=\"${item.img}\"\n            width=\"180\" height=\"180\" alt=\"${item.desc}\" />\n    </div>\n    <div class=\"card-product-info\">\n        <h3 class=\"card-product-title\">${item.name}</h3>\n        <div class=\"card-product-info-right\">\n            <p class=\"card-product-price\">${item.price}</p>\n\n            <button type=\"button\" class=\"card-product-btn\">\n                <svg>\n                    <use href=\"тут посилання на іконку зі спрайту\"></use>\n                </svg>\n            </button>\n        </div>\n    </div>\n</div>\n`;\n    })\n    .join('');\n}\n","import { getProducts } from './api/discount-api';\nimport { getData, saveData } from './api/storage';\nimport { createMarkup } from './markup-discount';\n\nlet products = [];\nconst productEl = document.querySelector('.products-discount');\nconsole.log(productEl);\n\nasync function onLoad() {\n  const response = await getProducts();\n\n  products = response.slice(0, 2);\n\n  const markup = createMarkup(products);\n\n  addMarkup(markup);\n}\nonLoad();\n\nfunction addMarkup(markup) {\n  productEl.insertAdjacentHTML('beforeend', markup);\n}\n\nproductEl.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  if (!event.target.closest('.cart-product-btn')) {\n    return;\n  }\n  const cardEl = event.target.closest('.cart-product-discount');\n  const id = cardEl.dataset.id;\n\n  //   console.log(data);\n  const items = getData();\n  if (items.find(item => id === item._id)) {\n    saveData(items.filter(item => id !== item._id));\n  } else {\n    const data = products.find(item => id === item._id);\n    items.push(data);\n    saveData(items);\n  }\n}\n"],"names":["BASE_URL","axios","getProductsByParams","keyword","category","page","limit","sort","params","getPopularProducts","STORAGE_KEY","dataForm","itemCount","emptyBasket","filledBasket","itemsContainer","totalSum","checkoutForm","onSubmit","addLocalStorageData","onLoad","data","basketItemAdded","isBasketEmpty","basketItemsMarkup","totalSumCount","error","itemAdded","array","id","name","img","size","is10PercentOff","price","totalPrice","count","event","email","order","productId","amount","apiResponse","modalProduct","closeModalProductBtn","addToCartBtn","modalProductImage","modalProductName","modalProductCategory","modalProductSize","modalProductPopularity","modalProductDescription","modalProductPrice","openModal","product","outsideModalClick","closeModal","productsList","defaultParameters","saveData","addMarkup","el","markup","displayProducts","results","createCardMarkup","card","selectedProduct","_id","popularity","displayPagination","currentPage","totalPages","paginationContainer","i","appendPageLink","ellipsis","pageNumber","isActive","li","linkWrapper","link","onPageLinkClick","initialPage","popularList","createMarkup","items","firstDigit","item","productAdded","btnAdd","handleOrder","popularCard","handleProductCard","getProducts","response","getData","products","productEl","onClick"],"mappings":"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"}