{"version":3,"file":"commonHelpers2.js","sources":["../src/js/filters.js","../src/js/modal-product.js","../src/js/products.js","../src/js/pagination.js","../src/js/popular.js","../src/js/discount/api/discount-api.js","../src/js/discount/api/storage.js","../src/js/discount/markup-discount.js","../src/js/discount/discount.js","../src/js/footer.js","../src/js/scroll.js"],"sourcesContent":["// import { getProductsByParams, getProductsCategories } from './get-api';\n// import { createCardMarkup, displayProducts } from './products';\n\nconst URL_BASE = 'https://food-boutique.b.goit.study/api/';\nconst productsListFilter = document.querySelector('.list-prod');\nconst filterForm = document.querySelector('.filter-form');\nconst filterSearchInput = document.querySelector('input');\nconst filterSelect = document.querySelector('.filter-select');\nconst filterSort = document.querySelector('.filter-sort');\n\nfilterForm.addEventListener('submit', handlerForm);\n\nasync function handlerForm(e) {\n  e.preventDefault();\n\n  const searchQuery = e.currentTarget.searchQuery.value\n    .trim()\n    .toLowerCase()\n    .split(' ');\n  const categoryEl = e.currentTarget.categories.value;\n\n  try {\n    const searchQuery = e.currentTarget.searchQuery.value\n      .trim()\n      .toLowerCase()\n      .split(' ');\n    const categoryEl = e.currentTarget.categories.value;\n    const resp = await getByParams(searchQuery, categoryEl);\n    const results = resp.map(({ name, category }) => {\n      category = categoryEl === 'Show all' ? null : category;\n      return { name, category };\n    });\n\n    productsListFilter.innerHTML = createCard(results);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nasync function getByParams(keyword, category) {\n  const params = new URLSearchParams({\n    keyword,\n    category,\n    page: 1,\n    limit: 6,\n  });\n\n  // if (sort && sort.key && sort.value) {\n  //   params[sort.key] = sort.value;\n  // }\n\n  const resp = await fetch(`${URL_BASE}products?${params}`);\n  if (!resp.ok) {\n    throw new Error(resp.statusText);\n  }\n\n  return resp.json();\n}\n\nasync function getCategories() {\n  const response = await fetch(`${URL_BASE}products/categories`);\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return response.json();\n}\n\nfilterSelect.addEventListener('change', showCategories);\n\nfunction showCategories(e) {\n  const categoryEl = e.currentTarget.value;\n\n  getCategories(categoryEl)\n    .then(categories => {\n      categories.forEach(category => {\n        option.value = category;\n        option.text = category;\n        filterSelect.appendChild(option);\n      });\n      let showAllOption = document.createElement('option');\n      showAllOption.text = 'Show all';\n      filterSelect.appendChild(showAllOption);\n    })\n\n    .catch(error => {\n      console.error('Error fetching categories:', error);\n    });\n}\n\nfunction createCard(data) {\n  return data\n    .map(({ _id, name, img, category, size, price, popularity }) => {\n      return `\n          <li class=\"prod-item\" data-js-product-id=${_id}>\n            <div class=\"prod-pic\">\n              <svg class=\"discont-prod\" width=\"60\" height=\"60\" style=\"visibility: hidden;\">\n                <use href=\"./images/icons.svg#shopping-cart\"></use>\n              </svg>\n              <img class=\"prod-img\" src=${img} alt=${name} loading=\"lazy\">\n            </div>\n            <h3 class=\"title-prod\">${name}</h3>\n            <div class=\"feature\">\n              <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category}</span></p>\n              <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n              <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n            </div>\n            <div class=\"buing-prod\">\n              <p class=\"price-prod\">&#36; ${price}</p>\n              <button class=\"buy-btn\" type=\"button\">\n                <svg class=\"buy-svg\" width=\"18\" height=\"18\">\n                  <use href=\"./images/icons.svg#shopping-cart\"></use>\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>\n        `;\n    })\n    .join('');\n}\n","// modal-product.js\n\nconst modalProduct = document.getElementById('modalProduct');\nconst closeModalProductBtn = document.getElementById('closeModalProductBtn');\nconst addToCartBtn = document.getElementById('addToCartBtn');\nconst modalProductImage = document.getElementById('modalProductImage');\nconst modalProductName = document.getElementById('modalProductName');\nconst modalProductCategory = document.getElementById('modalProductCategory');\nconst modalProductSize = document.getElementById('modalProductSize');\nconst modalProductPopularity = document.getElementById('modalProductPopularity');\nconst modalProductDescription = document.getElementById('modalProductDescription');\nconst modalProductPrice = document.getElementById('modalProductPrice');\n\nexport function openModal(product) {\n    if (!product || !product.img) {\n        console.error('Product data is missing or incomplete.');\n        return;\n    }\n    // console.log(product); \n\n    modalProductImage.src = product.img;\n    modalProductName.textContent = product.name;\n\n  \n    modalProductCategory.innerHTML = `Category: <span id=\"priceText\">$ ${product.category}</span>`;\n    document.getElementById('priceText').style.color = 'black';\n    modalProductSize.innerHTML = `Size: <span id=\"priceTexte\">$ ${product.size}</span>`;\n    document.getElementById('priceTexte').style.color = 'black';\n    modalProductPopularity.innerHTML = `Popularity: <span id=\"priceTex\">$ ${product.popularity}</span>`;\n    document.getElementById('priceTex').style.color = 'black';\n     // modalProductCategory.textContent = `Category: ${product.category}`;\n     // modalProductSize.textContent = `Size: ${product.size}`;\n      // modalProductPopularity.textContent = `Popularity: ${product.popularity}`;\n    modalProductDescription.textContent = `${product.desc}`;\n    modalProductPrice.textContent = `$ ${product.price}`;\n\n       // const existingOverlay = document.querySelector('.modal-overlay');\n    // if (!existingOverlay) {\n\n    // const overlay = document.createElement('div');\n    // overlay.classList.add('modal-overlay');\n    // document.body.appendChild(overlay);\n    // overlay.addEventListener('click', closeModal);\n    // }\n\n\n    // document.body.style.overflow = 'hidden';\n    modalProduct.style.display = 'block';\n    window.addEventListener('click', outsideModalClick);\n}\n\nfunction closeModal() {\n    document.body.style.overflow = '';\n    modalProduct.style.display = 'none';\n    window.removeEventListener('click', outsideModalClick);\n\n       // const overlay = document.querySelector('.modal-overlay');\n    // if (overlay) {\n    //   document.body.removeChild(overlay);\n    // }\n}\n\n// Event listeners\ncloseModalProductBtn.addEventListener('click', closeModal);\n\n// Close the modal if the user clicks outside of it\n// window.addEventListener('click', function (event) {\n//     if (event.target === modalProduct) {\n//         closeModal();\n//     }\n// });\n\nwindow.addEventListener('click', outsideModalClick);\n\ndocument.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\nfunction outsideModalClick(event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n}\n// Close the modal if the user clicks outside of it\nwindow.addEventListener('click', function (event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n});\n\n// Add product to cart logic\naddToCartBtn.addEventListener('click', function () {\n    // Implement logic to add the product to the cart and update the UI\n    // You can use localStorage to store the cart information\n    // Example:\n    // const productId = product.id;\n    // const cart = JSON.parse(localStorage.getItem('cart')) || {};\n    // cart[productId] = (cart[productId] || 0) + 1;\n    // localStorage.setItem('cart', JSON.stringify(cart));\n\n    // After updating the cart, you might want to close the modal\n    closeModal();\n});","import { getProductsByParams } from './get-api';\n\nimport { openModal } from './modal-product';\nimport { getProductById } from './get-api';\n\nconst productsList = document.querySelector('.list-prod');\n\nconst defaultParameters = {\n  keyword: '',\n  category: '',\n  page: 1,\n  limit: 9,\n};\n\n// ---------------------------\n\n\n\nexport function saveData(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\nexport function getData(key) {\n  try {\n    const result = localStorage.getItem(key);\n    return result ? JSON.parse(result) : {};\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// ---------------------------\n\n\n// ________________\n\nsaveData(\"defaultParameters\",defaultParameters);\n\n// // _______________________________\n\nexport function addMarkup(el, markup) {\n  el.innerHTML = markup;\n}\n\nexport async function displayProducts(pageNumber) {\n  try {\n    defaultParameters.page = pageNumber;\n    const { results } = await getProductsByParams(defaultParameters);\nsaveData('firstGet', results);\n    // console.log('Products:', results); \n   \n    const markup = createCardMarkup(results);\n   \n    addMarkup(productsList, markup);\n\n    const productCards = document.querySelectorAll('.prod-item');\n\n    productCards.forEach(card => {\n\n      card.addEventListener('click', () => {\n        const productId = card.getAttribute('data-js-product-id');\n        const buyBtn = card.querySelector('.buy-btn');\n        const modalImg = card.querySelector('.prod-img');\n        const selectedProduct = results.find(\n          product => product._id.toString() === productId\n        );\n        console.log('Selected productId:', productId);\n        saveProductId(productId, results);\n\n        if (modalImg) {\n          openModal(selectedProduct);\n        } else {\n          console.error('Selected product not found:', productId);\n        }\n\n        // console.log(productId);\n        // console.log(results);\n      });\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function createCardMarkup(results) {\n  return results\n    .map(({ _id, name, img, category, size, price, popularity }) => {\n      return `\n        <li class=\"prod-item\" data-js-product-id=${_id}>   \n          <div class=\"prod-pic\">\n            <svg class=\"discont-prod\" width=\"60\" height=\"60\" style=\"visibility: hidden;\">\n              <use href=\"./images/icons.svg#shopping-cart\"></use>\n            </svg>\n            <img class=\"prod-img\" src=${img} alt=${name} loading=\"lazy\">\n          </div>\n          <h3 class=\"title-prod\">${name}</h3>\n          <div class=\"feature\">\n            <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category}</span></p>\n            <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n            <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n          </div>\n          <div class=\"buing-prod\">\n            <p class=\"price-prod\">&#36; ${price}</p>\n            <button class=\"buy-btn\" type=\"button\">\n              <svg class=\"buy-svg\" width=\"18\" height=\"18\">\n                <use href=\"./images/icons.svg#shopping-cart\"></use>\"></use>\n              </svg>\n            </button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n}\n\ndisplayProducts();\n\n\nconst STORAGE_KEY = 'added-item';\nfunction saveProductId(productId, results) {\n  let data = getData(STORAGE_KEY);\n  if (!data) {\n    data = [];\n  }\n  const selectedProduct = results.find(\n    product => product._id.toString() === productId\n  );\n  console.log(`tut ${selectedProduct}`);\n  if (selectedProduct) {\n    data.push(selectedProduct);\n    saveData(STORAGE_KEY, data);\n    console.log(data);\n    const buyBtn = document.querySelector(\n      `[data-js-product-id=\"${productId}\"] .buy-btn`\n    );\n    if (buyBtn) {\n      buyBtn.disabled = true; // Зробити кнопку неактивною\n    }\n  } else {\n    console.error('Selected product not found:', productId);\n  }\n}\n\n","import Pagination from 'tui-pagination';\nimport { displayProducts } from './products';\nimport {getProductsByParams} from './get-api'; //видалити\n\nconst paginationContainer = document.querySelector('#pagination');\n\nconst paginationParameters = {\n  keyword: '',\n  category: '',\n  page: 1,\n  limit: 9,\n};\n\ngetProductsByParams(paginationParameters).then((({results, totalPages}) => {  //видалити\n  displayPagination(results, totalPages)\n}))\n\n\nexport function displayPagination(results, totalPages) {\n  if (totalPages > 1) {\n    let currentPage = 1\n    \n    const options = {\n    totalItems: results.length * totalPages,\n    itemsPerPage: 9,\n    visiblePages: 3,\n    // page: currentPage,\n    usageStatistics: false\n  };\n  \n  const pagination = new Pagination(paginationContainer, options);\n  pagination.on('afterMove', (e) => {\n    currentPage = e.page;\n    displayProducts(e.page)\n});\n  }\n  return\n}","import { getPopularProducts } from './get-api';\nimport { openModal } from './modal-product';\nimport sprite from '../images/icons.svg';\n\n// import { Notify } from 'notiflix';\n\n// const options = {\n//   timeout: 1000,\n//   position: 'center-center',\n//   width: '400px',\n//   fontSize: '24px',\n// };\n\nconst popularList = document.querySelector('.popular-list');\n\nconst STORAGE_KEY = 'added-itemX';\n\nfunction saveData(data) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nfunction getData() {\n  try {\n    const result = localStorage.getItem(STORAGE_KEY);\n    return result ? JSON.parse(result) : [];\n  } catch (error) {\n    console.log(error);\n  }\n}\n\ngetPopularProducts(5)\n  .then(data => {\n    popularList.insertAdjacentHTML('beforeend', createMarkup(data));\n\n    function onClick(event) {\n      let target = event.target;\n      if (target.closest('.popular-card')) {\n        const popularCard = target.closest('.popular-card');\n        const popularProductId = popularCard.getAttribute('data-js-product-id');\n        openModal(productSelected(popularProductId, data));\n      } else if (target.closest('.btn-add')) {\n        const elem = target.closest('.btn-add').nextElementSibling;\n        const btnProductId = elem.getAttribute('data-js-product-id');\n        const selectedProduct = productSelected(btnProductId, data);\n\n        const listProducts = getData();\n        const productAdded = listProducts.find(\n          item => item._id === selectedProduct._id\n        );\n        if (!productAdded) {\n          listProducts.push(selectedProduct);\n          saveData(listProducts);\n          //Notify.success('Product add to Order', options);\n        }\n        //Notify.info('Product also added to Order', options);\n        target.closest('.btn-add').classList.add('visually-hidden');\n      }\n    }\n\n    popularList.addEventListener('click', onClick);\n  })\n  .catch(error => {\n    console.error(error);\n  });\n\nfunction productSelected(val, data) {\n  const selectedProduct = data.find(product => product._id.toString() === val);\n  return selectedProduct;\n}\n\nfunction createMarkup(items) {\n  return items\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        category,\n        popularity,\n        size,\n        price,\n        is10PercentOff,\n      }) => {\n        // додав строку 15  та ретерн на 17\n        const firstDigit = parseInt(popularity.toString()[0]);\n\n        return `  <li class=\"popular-item\">\n            <span class=\"product-added\">\n        <svg class=\"svg-added\" width=\"12\" height=\"12\">\n          <use href=\"${sprite}#check\"></use>\n        </svg>\n      </span>\n      <button class=\"btn-add\" type=\"button\">\n        <svg class=\"svg-add\" width=\"12\" height=\"12\">\n          <use href=\"${sprite}#shopping-cart\"></use>\n        </svg>\n      </button>\n        <div class=\"popular-card\" data-js-product-id=${_id}>\n          <div class=\"popular-box-img\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\"  width=\"56\" />\n          </div>\n          <div class=\"popular-description\">\n            <h3 class=\"popular-card-title\">${name}</h3>\n            <p class=\"popular-card-text category\">Category: <span class=\"popular-text\">${category.replace(\n              '_',\n              ' '\n            )}</span></p>\n            <div class=\"card-descr\">\n              <p class=\"popular-card-text\">Size: <span class=\"popular-text\">${size}</span></p>\n              <p class=\"popular-card-text\">Popularity: <span class=\"popular-text\">${firstDigit}</span></p>\n            </div>\n          </div>\n        </div>\n      </li>`;\n      }\n    )\n    .join('');\n}\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api/';\n\nexport function getProducts() {\n  return axios.get('products/discount').then(response => response.data);\n}\n","const STORAGE_KEY = 'product-discount';\n\nexport function getData() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.lof(error.message);\n  }\n}\n\nexport function saveData(items) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n","import sprite from '../../images/icons.svg';\n\nexport function createMarkup(items = []) {\n  return items\n    .map(item => {\n      return ` <div class=\"card-product-discount\" data-id=\"${item._id}\">\n    <div class=\"card-product-wrapper\">\n        <img class=\"card-product-img\"\n            src=\"${item.img}\"\n            width=\"105\" height=\"105\" alt=\"${item.desc}\" />\n    </div>\n    <div class=\"card-product-info\">\n        <h3 class=\"card-product-title\">${item.name}</h3>\n        <div class=\"card-product-info-right\">\n            <p class=\"card-product-price\">${item.price}</p>\n\n            <button type=\"button\" class=\"card-product-btn\" >\n            <svg class=\"card-product-svg\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#shopping-cart\"></use>\n          </svg>\n            </button>\n            <span class=\"product-added\">\n            <svg class=\"svg-added\" width=\"12\" height=\"12\">\n              <use href=\"${sprite}#check\"></use>\n            </svg>\n          \n        </div>\n    </div>\n</div>\n`;\n    })\n    .join('');\n}\n","import { getProducts } from './api/discount-api';\nimport { getData, saveData } from './api/storage';\nimport { createMarkup } from './markup-discount';\n\nlet products = [];\nconst productEl = document.querySelector('.products-discount');\nconsole.log(productEl);\n\nasync function onLoad() {\n  const response = await getProducts();\n\n  products = response.slice(0, 2);\n\n  const markup = createMarkup(products);\n\n  addMarkup(markup);\n}\nonLoad();\n\nfunction addMarkup(markup) {\n  productEl.insertAdjacentHTML('beforeend', markup);\n}\n\nproductEl.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  if (!event.target.closest('.cart-product-btn')) {\n    return;\n  }\n  const cardEl = event.target.closest('.cart-product-discount');\n  const id = cardEl.dataset.id;\n\n  //   console.log(data);\n  const items = getData();\n  if (items.find(item => id === item._id)) {\n    saveData(items.filter(item => id !== item._id));\n  } else {\n    const data = products.find(item => id === item._id);\n    items.push(data);\n    saveData(items);\n  }\n}\n","import throttle from 'lodash.throttle';\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\nconst saveFormState = throttle(() => {\n  const formData = {\n    email: form.elements.email.value,\n  };\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n}, 500);\nwindow.addEventListener('load', () => {\n  const savedFormData = localStorage.getItem(localStorageKey);\n  if (savedFormData) {\n    const { email } = JSON.parse(savedFormData);\n    form.elements.email.value = email;\n  }\n});\nform.addEventListener('input', () => {\n  saveFormState();\n});\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  const formData = {\n    email: form.elements.email.value,\n  };\n  console.log(formData);\n  localStorage.removeItem(localStorageKey);\n  form.reset();\n});\nconst autoFillForm = () => {\n  const savedFormData = localStorage.getItem(localStorageKey);\n  if (savedFormData) {\n    const { email } = JSON.parse(savedFormData);\n    form.elements.email.value = email;\n  }\n};\nautoFillForm();\n\n// Модалка\n(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    document.body.classList.toggle('no-scroll');\n  }\n\n  const links = Array.from(refs.menu.children);\n  links.forEach(link => {\n    link.addEventListener('click', closeOnClick);\n  });\n\n  function closeOnClick() {\n    refs.menu.classList.toggle('is-hidden');\n    document.body.classList.toggle('no-scroll');\n  }\n})();\n","const scrollToTopButton = document.getElementById('scrollToTopBtn');\nconst scrollOffset = 360;\n\nwindow.onscroll = function () {\n  if (\n    document.body.scrollTop > scrollOffset ||\n    document.documentElement.scrollTop > scrollOffset\n  ) {\n    scrollToTopButton.classList.add('show');\n  } else {\n    scrollToTopButton.classList.remove('show');\n  }\n};\n\nscrollToTopButton.addEventListener('click', function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["URL_BASE","productsListFilter","filterForm","filterSelect","handlerForm","e","searchQuery","categoryEl","results","getByParams","name","category","createCard","err","keyword","params","resp","getCategories","response","showCategories","categories","showAllOption","error","data","_id","img","size","price","popularity","modalProduct","closeModalProductBtn","addToCartBtn","modalProductImage","modalProductName","modalProductCategory","modalProductSize","modalProductPopularity","modalProductDescription","modalProductPrice","openModal","product","outsideModalClick","closeModal","event","productsList","defaultParameters","saveData","key","getData","result","addMarkup","el","markup","displayProducts","pageNumber","getProductsByParams","createCardMarkup","card","productId","buyBtn","modalImg","selectedProduct","saveProductId","STORAGE_KEY","paginationContainer","paginationParameters","totalPages","displayPagination","options","Pagination","popularList","getPopularProducts","createMarkup","onClick","target","popularProductId","productSelected","btnProductId","listProducts","item","val","items","is10PercentOff","firstDigit","sprite","axios","getProducts","products","productEl","onLoad","id","form","localStorageKey","saveFormState","throttle","formData","savedFormData","email","evt","autoFillForm","refs","toggleMenu","link","closeOnClick","scrollToTopButton","scrollOffset"],"mappings":"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"}