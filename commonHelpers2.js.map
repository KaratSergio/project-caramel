{"version":3,"file":"commonHelpers2.js","sources":["../src/js/modal-product.js","../src/js/products.js","../src/js/pagination.js","../src/js/filters.js","../src/js/popular.js","../src/js/discount/markup-discount.js","../src/js/discount/discount.js","../src/js/scroll.js"],"sourcesContent":["import {\n  STORAGE_KEY,\n  getData,\n  saveData,\n  countAddedItems,\n  checkAdded,\n  manageButton,\n  changeOtherIcon,\n} from './STORAGE';\n\nconst removeFromIcon = document.getElementById('removeFromIcon');\nconst modalProduct = document.getElementById('modalProduct');\nconst closeModalProductBtn = document.getElementById('closeModalProductBtn');\nconst addToCartBtn = document.getElementById('addToCartBtn');\nconst removeFromBtn = document.getElementById('removeFrom');\nconst modalProductImage = document.getElementById('modalProductImage');\nconst modalProductName = document.getElementById('modalProductName');\nconst modalProductCategory = document.getElementById('modalProductCategory');\nconst modalProductSize = document.getElementById('modalProductSize');\nconst modalProductPopularity = document.getElementById('modalProductPopularity');\nconst modalProductDescription = document.getElementById('modalProductDescription');\nconst modalProductPrice = document.getElementById('modalProductPrice');\nconst modalOverlay = document.querySelector('.modal-overlay'); \nconst scrollToTopBtnEl = document.getElementById('scrollToTopBtn'); \n\nremoveFromIcon.classList.add('visually-hidden');\n\nexport function openModal(product) {\n  if (!product || !product.img) {\n    console.error('Product data is missing or incomplete.');\n    return;\n  }\n  \n  modalProduct.style.display = 'block';\n  document.body.style.overflow = 'hidden';\n  modalOverlay.style.display = 'flex';\n  window.addEventListener('click', outsideModalClick);\n\n  const listProducts = getData(STORAGE_KEY);\n  let item = checkAdded(listProducts, product);\n  manageButton(item, addToCartBtn, removeFromBtn);\n\n  addToCartBtn.addEventListener('click', addProduct);\n  removeFromBtn.addEventListener('click', removeProduct);\n\n  scrollToTopBtnEl.style.display = 'none';\n\n  modalProductImage.src = product.img;\n  modalProductName.textContent = product.name;\n\n  const formatCategory = category => category.replace(/_/g, ' ');\n  modalProductCategory.innerHTML = `Category: <span id=\"priceText\">${formatCategory(\n    product.category\n  )}</span>`;\n  document.getElementById('priceText').style.color = 'black';\n  modalProductSize.innerHTML = `Size: <span id=\"priceTexte\">${product.size}</span>`;\n  document.getElementById('priceTexte').style.color = 'black';\n  modalProductPopularity.innerHTML = `Popularity: <span id=\"priceTex\">${product.popularity}</span>`;\n  document.getElementById('priceTex').style.color = 'black';\n  modalProductDescription.textContent = `${product.desc}`;\n  modalProductPrice.textContent = `$ ${product.price}`;\n\n  function addProduct() {\n    listProducts.push(product);\n    recheckCart();\n  }\n  \n  function removeProduct() {\n    listProducts.splice(item, 1);\n    recheckCart();\n  }\n  \n  function recheckCart() {\n    saveData(STORAGE_KEY, listProducts);\n    countAddedItems();\n    item = checkAdded(listProducts, product);\n    changeOtherIcon(product._id, item);\n    manageButton(item, addToCartBtn, removeFromBtn);\n  }  \n}\n\nfunction closeModal() {\n  document.body.style.overflow = '';\n  modalProduct.style.display = 'none';\n  modalOverlay.style.display = 'none';\n  scrollToTopBtnEl.style.display = 'flex';\n\n  // addToCartBtn.removeEventListener('click', addProduct);\n  // removeFromBtn.removeEventListener('click', removeProduct);\n  window.removeEventListener('click', outsideModalClick);\n}\n\ncloseModalProductBtn.addEventListener('click', closeModal);\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n});\n\nfunction outsideModalClick(event) {\n  if (event.target === modalOverlay) {\n    closeModal();\n  }\n}\n","import sprite from '../images/icons.svg';\nimport {\n  STORAGE_KEY,\n  FIRST_SET_KEY,\n  getData,\n  saveData,\n  changeOtherIcon,\n} from './STORAGE';\nimport { openModal } from './modal-product';\nimport { getProductById } from './get-api';\n\nconst productsList = document.querySelector('.list-prod');\nconst items = getData(STORAGE_KEY);\n\nexport function addMarkup(el, markup) {\n  el.innerHTML = markup;\n}\n\nexport async function displayProducts(results) {\n  const markup = createCardMarkup(results);\n  addMarkup(productsList, markup);\n}\n\nproductsList.addEventListener('click', onClick);\nproductsList.addEventListener('click', onShowModal);\n\nfunction onClick(event) {\n  const btnEl = event.target.closest('.buy-btn');\n  if (!btnEl) {\n    return;\n  }\n\n  const cardEl = event.target.closest('.prod-item');\n  const id = cardEl.getAttribute('data-js-product-id');\n  const icons = btnEl.querySelectorAll(\"svg[data-js-product='\" + id + \"']\");\n  const items = getData(STORAGE_KEY);\n  let existingItemIndex = items.findIndex(item => item._id === id);\n  if (existingItemIndex !== -1) {\n    items.splice(existingItemIndex, 1);\n    existingItemIndex = -1;\n  } else {\n    const newItem = getData(FIRST_SET_KEY).find(item => item._id === id); \n    if (newItem) {\n      items.push(newItem);\n      existingItemIndex = 0;\n    }\n  }\n  saveData(STORAGE_KEY, items);\n  changeOtherIcon(id, existingItemIndex);\n}\nexport function changeIcons(arr) {\n  arr.forEach(element => {\n    element.classList.toggle('is-hidden');\n  });\n}\n\nfunction onShowModal(event) {\n  const cardEl = event.target.closest('.prod-item');\n  const btnEl = event.target.closest('.buy-btn');\n\n  if (!cardEl || btnEl) {\n    return;\n  }\n  const idProduct = cardEl.getAttribute('data-js-product-id');\n\n  getProductById(idProduct)\n    .then(res => {\n      openModal(res);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\nexport function createCardMarkup(results) {\n  return results\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        category,\n        size,\n        price,\n        popularity,\n        is10PercentOff,\n      }) => {\n        const storageData = getData(STORAGE_KEY);\n        const check = storageData.find(item => item._id === _id)\n          ? ''\n          : 'is-hidden';\n        const card = storageData.find(item => item._id === _id)\n          ? 'is-hidden'\n          : '';\n        const visibility = onVisible(is10PercentOff);\n        return `\n        <li class=\"prod-item\" data-js-product-id=${_id}>   \n          <div class=\"prod-pic\">\n            <svg class=\"discont-prod\" width=\"60\" height=\"60\" data-js-label-discont=\"${is10PercentOff}\" style=\"visibility: ${visibility};\">\n              <use href=\"${sprite}#icon-discount\"></use>\n            </svg>\n            <img class=\"prod-img\" src=${img} alt=${name} width=\"140\" height=\"140\" loading=\"lazy\">\n          </div>\n          <h3 class=\"title-prod\">${name}</h3>\n          <div class=\"feature\">\n            <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category.replace(\n              /_/g,\n              ' '\n            )}</span></p>\n            <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n            <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n          </div>\n          <div class=\"buing-prod\">\n            <p class=\"price-prod\">&#36; ${price}</p>\n            <button class=\"buy-btn\" type=\"button\" aria-label=\"Buy\">\n            <svg class=\"card-product-svg ${check}\" \n            data-js-product=\"${_id}\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#check\"></use>\n            </svg>\n            <svg class=\"card-product-svg ${card}\" \n            data-js-product=\"${_id}\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#shopping-cart\"></use>\n            </svg>\n            </button>\n          </div>\n        </li>\n      `;\n      }\n    )\n    .join('');\n}\n\nfunction onVisible(is10PercentOff) {\n  if (is10PercentOff === true) {\n    return 'visible';\n  } else return 'hidden';\n}\n","import Pagination from 'tui-pagination';\nimport { displayProducts } from './products';\nimport { getProductsByParams } from './get-api';\nimport { saveData } from './STORAGE';\n\nconst paginationMainContainer = document.querySelector('.pagination-container')\nconst paginationContainer = document.querySelector('#pagination');\nconst productsList = document.querySelector('.list-prod-container');\nconst filterNomatches = document.querySelector('.filter-nomatches-container');\nconst FIRST_SET = 'firstset';\n\nnewDisplayPagination('first');\n\nexport async function newDisplayPagination(options) {\n  const { keyword, category } = options;\n  let startLimit = 9;\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    startLimit = 6;\n  } else if (\n    window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches\n  ) {\n    startLimit = 8;\n  }\n\n  const paginationSearchParams = {\n    keyword: keyword || '',\n    category: category || '',\n    page: 1,\n    limit: startLimit,\n  };\n  const { results, totalPages } = await getProductsByParams(\n    paginationSearchParams\n  );\n\n  if (totalPages === 0) {\n    productsList.classList.add('visually-hidden');\n    filterNomatches.classList.remove('visually-hidden');\n    paginationMainContainer.classList.add('visually-hidden');\n  } else {\n    productsList.classList.remove('visually-hidden');\n    filterNomatches.classList.add('visually-hidden');\n    paginationMainContainer.classList.remove('visually-hidden');\n  }\n\n  saveData(FIRST_SET, results);\n\n  displayProducts(results);\n\n  if (totalPages) {\n    let points = 1;\n    if (totalPages > 1) {\n      if (window.matchMedia('(max-width: 767px)').matches) {\n        points = 3;\n      } else if (window.matchMedia('(min-width: 768px)').matches) {\n        points = 5;\n      }\n    }\n    const options = {\n      totalItems: results.length * totalPages,\n      itemsPerPage: paginationSearchParams.limit,\n      visiblePages: points,\n      page: 1,\n      centerAlign: true,\n      usageStatistics: false,\n\n      template: {\n        moveButton:\n          '<a href=\"#\" class=\"tui-page-btn need-hide tui-{{type}}\">' +\n          `<span class=\"for-add-text-{{type}}\">1</span><span class=\"tui-ico-{{type}}\">{{type}}</span>` +\n          '</a>',\n        moreButton:\n          '<span  class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n          '<span class=\"tui-ico-ellip\">...</span>' +\n          '</span>',\n      },\n    };\n    const pagination = new Pagination(paginationContainer, options);\n\n    pagination.on('afterMove', async e => {\n      paginationSearchParams.page = e.page;\n      const { results } = await getProductsByParams(paginationSearchParams);\n      saveData(FIRST_SET, results);\n      displayProducts(results);\n    });\n\n    const firstPage = document.querySelector('.for-add-text-first');\n    const lastPage = document.querySelector('.for-add-text-last');\n    if (firstPage) {\n      const firstPage = document.querySelector('.for-add-text-first');\n      firstPage.textContent = 1;\n    }\n    if (lastPage) {\n      const lastPage = document.querySelector('.for-add-text-last');\n      lastPage.textContent = totalPages;\n    }\n    if (totalPages === 1) {\n      paginationMainContainer.classList.add('visually-hidden');\n    } else {\n      paginationMainContainer.classList.remove('visually-hidden');\n      }\n  }\n  return;\n}\n","import { getProductsCategories } from './get-api';\nimport { newDisplayPagination } from './pagination';\nimport axios from 'axios';\n\nclass FoodApi {\n  constructor() {\n    this.URL = `https://food-boutique.b.goit.study/api`;\n    this.searchQuery = '';\n    this.category = '';\n    this.currentPage = 1;\n    this.perPage = 6;\n  }\n\n  paramsFromApi(params) {\n    return Object.entries(params)\n      .map(\n        ([key, value]) =>\n          `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n      )\n      .join('&');\n  }\n\n  getFoodList() {\n    const params = {\n      keyword: this.searchQuery,\n      category: this.category,\n      page: this.currentPage,\n      limit: this.perPage,\n    };\n\n    const encodedParams = this.paramsFromApi(params);\n\n    return axios.get(`${this.URL}/products?${encodedParams}`).then(response => {\n      return response.data;\n    });\n  }\n}\n\nclass LocalStorage {\n  updateLsWithList(data) {\n    const defaultOptions = {\n      keyword: null,\n      category: null,\n      page: 1,\n      limit: 6,\n    };\n    localStorage.setItem('products', JSON.stringify(data.results));\n    localStorage.setItem('options', JSON.stringify(defaultOptions));\n  }\n\n  clearLocalStorage() {\n    localStorage.removeItem('products');\n    localStorage.removeItem('options');\n  }\n  defaultApiOptions() {\n    const defaultOptions = {\n      keyword: null,\n      category: null,\n      page: 1,\n      limit: 6,\n    };\n    localStorage.setItem('options', JSON.stringify(defaultOptions));\n  }\n}\n\nconst filterForm = document.querySelector('.filter-form');\n\nconst select = document.querySelector('.select');\nconst filterSelect = document.querySelector('.filter-select');\nconst filterSelectList = document.querySelector('.filter-select-list');\n\nconst foodApi = new FoodApi();\nconst localStorageManager = new LocalStorage();\n\nfunction chooseCategory() {\n  getProductsCategories().then(categories => {\n    categories.forEach(category => {\n      const option = document.createElement('li');\n      option.className = 'filter-select-item';\n      option.dataset.value = category;\n\n      option.textContent = category.split('_').join(' ');\n      filterSelectList.append(option);\n    });\n\n    const showAllOption = document.createElement('li');\n    showAllOption.className = 'filter-select-item';\n    showAllOption.textContent = 'Show All';\n    showAllOption.dataset.value = '';\n    filterSelectList.append(showAllOption);\n\n    setTimeout(selectItems, 0);\n\n    filterSelect.addEventListener('input', changeCategoryCards);\n  });\n}\nchooseCategory();\n\nfunction selectItems() {\n  const filterSelectItem = filterSelectList.querySelectorAll(\n    '.filter-select-item'\n  );\n\n  select.addEventListener('click', function () {\n    filterSelectList.classList.toggle('filter-select-list-visible');\n  });\n\n  filterSelectItem.forEach(listItem => {\n    listItem.addEventListener('click', function (e) {\n      e.stopPropagation();\n      select.textContent = this.textContent;\n      filterSelect.value = this.dataset.value;\n      filterSelectList.classList.remove('filter-select-list-visible');\n      changeCategoryCards();\n    });\n  });\n}\n\ndocument.addEventListener('click', function (e) {\n  if (e.target !== select) {\n    filterSelectList.classList.remove('filter-select-list-visible');\n  }\n});\n\nfilterForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  let searchValue = event.target.elements.searchQuery.value.trim();\n\n  try {\n    let options = JSON.parse(localStorage.getItem('options')) || {};\n\n    if (searchValue === '') {\n      options.keyword = null;\n      localStorageManager.clearLocalStorage();\n      localStorageManager.defaultApiOptions();\n    } else {\n      options.keyword = searchValue;\n\n      foodApi\n        .getFoodList(options)\n        .then(function (data) {\n          localStorageManager.updateLsWithList(data, options);\n          newDisplayPagination(options);\n        })\n        .catch(function (error) {\n          console.error('Error fetching food list:', error.message);\n        });\n    }\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n  filterForm.reset();\n});\n\nfunction changeCategoryCards() {\n  let selectedItem = filterSelect.value;\n  console.log(filterSelect.value);\n  try {\n    let options = JSON.parse(localStorage.getItem('options')) || {};\n    if (selectedItem === 'show-all') {\n      localStorage.removeItem('products');\n      localStorageManager.defaultApiOptions();\n    } else {\n      options.category = selectedItem;\n      foodApi.category = selectedItem;\n      foodApi\n        .getFoodList(options)\n        .then(function (data) {\n          localStorageManager.updateLsWithList(data, options);\n\n          newDisplayPagination(options);\n        })\n        .catch(function (error) {\n          console.error('Error fetching list:', error.message);\n        });\n    }\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n}\n","import { getPopularProducts, getProductById } from './get-api';\nimport { getData, saveData, countAddedItems, STORAGE_KEY, changeOtherIcon } from './STORAGE';\nimport { openModal } from './modal-product';\nimport sprite from '../images/icons.svg';\n\nconst popularList = document.querySelector('.popular-product-list');\n\nlet counter = 5;\nif (window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches) {\n  counter = 6;\n}\n  getPopularProducts(counter)\n    .then(data => {\n      popularList.insertAdjacentHTML('beforeend', createMarkup(data));\n\n      const productAdded = document.getElementsByClassName(\n        'button-remove-product'\n      );\n\n      [...productAdded].forEach(elem => {\n        const idBtn = elem.getAttribute('data-js-button');\n        const selIdBtn = productSelected(idBtn, data);\n\n        if (checkLocalStorage(selIdBtn._id)) {\n          elem.nextElementSibling.classList.add('visually-hidden');\n        }\n      });\n\n      function onClick(event) {\n        let target = event.target;\n\n        if (target.closest('.popular-card')) {\n          const popularCard = target.closest('.popular-card');\n          const popularProductId =\n            popularCard.getAttribute('data-js-product-id');\n\n          onSHowModal(popularProductId);\n        } else if (target.closest('.button-add-product')) {\n          const elemAdded = target.closest(\n            '.button-add-product'\n          ).previousElementSibling;\n          const btnProductId = elemAdded.getAttribute('data-js-button');\n          const selectedProduct = productSelected(btnProductId, data);\n          const listProducts = getData(STORAGE_KEY);\n          if (!checkLocalStorage(selectedProduct._id)) {\n            listProducts.push(selectedProduct);\n            saveData(STORAGE_KEY, listProducts);\n            countAddedItems();\n            changeOtherIcon(selectedProduct._id, 0);\n          }\n          target\n            .closest('.button-add-product')\n            .classList.add('visually-hidden');\n          elemAdded.classList.remove('visually-hidden');\n        } else if (target.closest('.button-remove-product')) {\n          const idBtnLS = target\n            .closest('.button-remove-product')\n            .getAttribute('data-js-button');\n          const selIdBtnLS = productSelected(idBtnLS, data);\n          const products = getData(STORAGE_KEY);\n          const productAdded = checkLocalStorage(selIdBtnLS._id);\n          saveData(\n            STORAGE_KEY,\n            products.filter(product => productAdded._id !== product._id)\n          );\n          countAddedItems();\n          changeOtherIcon(selIdBtnLS._id, -1);\n          target\n            .closest('.button-remove-product')\n            .classList.add('visually-hidden');\n          target\n            .closest('.button-remove-product')\n            .nextElementSibling.classList.remove('visually-hidden');\n        }\n      }\n\n      popularList.addEventListener('click', onClick);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n\nfunction onSHowModal(dataId) {\n  getProductById(dataId)\n    .then(res => {\n      openModal(res);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n\nfunction productSelected(val, data) {\n  const selectedProduct = data.find(product => product._id.toString() === val);\n  return selectedProduct;\n}\n\nfunction checkLocalStorage(id) {\n  const listProducts = getData(STORAGE_KEY);\n  \n  return listProducts.find(item => item._id === id);\n}\n\nfunction truncate(str, maxlength) {\n  return str.length > maxlength ? str.slice(0, maxlength - 1) + '…' : str;\n}\n\nfunction createMarkup(items) {\n  return items\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        category,\n        popularity,\n        size,\n        price,\n        is10PercentOff,\n      }) => {\n        const firstDigit = parseInt(popularity.toString()[0]);\n        const newName = truncate(name, 14);\n\n        return `  <li class=\"popular-item\">\n\n            <button class=\"button-remove-product\" data-js-button=${_id} type=\"button\" aria-label=\"Delete\" >\n\n        <svg class=\"svg-remove-product\" width=\"12\" height=\"12\">\n          <use href=\"${sprite}#check\"></use>\n        </svg>\n      </button>\n\n      <button class=\"button-add-product\" data-js-button=${_id} type=\"button\" aria-label=\"Add\" >\n\n        <svg class=\"svg-add-product\" width=\"12\" height=\"12\">\n          <use href=\"${sprite}#shopping-cart\"></use>\n        </svg>\n      </button>\n        <div class=\"popular-card\" data-js-product-id=${_id}>\n          <div class=\"popular-box-img\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\"  width=\"56\" height=\"56\" />\n          </div>\n          <div class=\"popular-description\">\n            <h3 class=\"popular-card-title\">${newName}</h3>\n            <p class=\"popular-card-text category\">Category: <span class=\"popular-text\">${category.replace(\n              '_',\n              ' '\n            )}</span></p>\n            <div class=\"card-descr\">\n              <p class=\"popular-card-text\">Size: <span class=\"popular-text\">${size}</span></p>\n              <p class=\"popular-card-text\">Popularity: <span class=\"popular-text\">${firstDigit}</span></p>\n            </div>\n          </div>\n        </div>\n      </li>`;\n      }\n    )\n    .join('');\n}\n","import sprite from '../../images/icons.svg';\n\nexport function createMarkup(items = [], idProducts = []) {\n  return items\n    .map(item => {\n      const toggle = idProducts.includes(item._id);\n\n      const check = toggle ? '' : 'is-hidden';\n\n      const card = toggle ? 'is-hidden' : '';\n\n      const newName = truncate(item.name, 14);\n\n      return ` <div class=\"card-product-discount\" data-id=\"${item._id}\">\n      ${\n        item.is10PercentOff &&\n        ` <div class=\"card-product-label\">\n      <svg>\n      <use href=\"${sprite}#icon-discount\"></use>\n      </svg>\n      </div>`\n      }\n\n    <div class=\"card-product-wrapper\">\n        <img class=\"card-product-img\"\n            src=\"${item.img}\"\n            width=\"105\" height=\"105\" alt=\"${item.desc}\" />\n    </div>\n    <div class=\"card-product-info\">\n        <h3 class=\"card-product-title\">${newName}</h3>\n        <div class=\"card-product-info-right\">\n            <p class=\"card-product-price\">&#36; ${item.price}</p>\n            <button type=\"button\" class=\"card-product-btn\" aria-label=\"Buy\">\n            <svg class=\"card-product-svg ${check}\" \n            data-js-discont=\"${item._id}\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#check\"></use>\n          </svg>\n          <svg class=\"card-product-svg ${card}\" \n          data-js-discont=\"${item._id}\" width=\"18\" height=\"18\">\n          <use href=\"${sprite}#shopping-cart\"></use>\n        </svg>\n            </button>\n        </div>\n    </div>\n</div>\n`;\n    })\n    .join('');\n}\nfunction truncate(str, maxlength) {\n  return str.length > maxlength ? str.slice(0, maxlength - 1) + '…' : str;\n}\n","import { getProducts } from '../get-api';\nimport { STORAGE_KEY, countAddedItems, getData, saveData, changeOtherIcon } from '../STORAGE';\nimport { createMarkup } from './markup-discount';\nimport { openModal } from '../modal-product';\n\nlet products = [];\nconst productEl = document.querySelector('.products-discount');\n\nasync function onLoad() {\n  const response = await getProducts();\n\n  products = response.slice(0, 2);\n\n  const items = getData(STORAGE_KEY);\n\n  const idProducts = getIdProducts(items);\n\n  const markup = createMarkup(products, idProducts);\n\n  addMarkup(markup);\n}\nonLoad();\n\nfunction addMarkup(markup) {\n  productEl.insertAdjacentHTML('beforeend', markup);\n}\n\nproductEl.addEventListener('click', onClick);\nproductEl.addEventListener('click', onShowModal);\n\nfunction onClick(event) {\n  const btnEl = event.target.closest('.card-product-btn');\n  if (!btnEl) {\n    return;\n  }\n  const cardEl = event.target.closest('.card-product-discount');\n\n  const icons = btnEl.querySelectorAll('svg');\n\n  const id = cardEl.dataset.id;\n\n  const items = getData(STORAGE_KEY);\n  if (items.find(item => id === item._id)) {\n    saveData(\n      STORAGE_KEY,\n      items.filter(item => id !== item._id)\n    );\n    countAddedItems();\n    changeOtherIcon(id, -1);\n  } else {\n    const data = products.find(item => id === item._id);\n    items.push(data);\n    saveData(STORAGE_KEY, items);\n    countAddedItems();\n    changeOtherIcon(id, 0);\n  }\n}\n\nfunction onShowModal(event) {\n  const cardEl = event.target.closest('.card-product-discount');\n  const btnEl = event.target.closest('.card-product-btn');\n\n  if (!cardEl || btnEl) {\n    return;\n  }\n  const id = cardEl.dataset.id;\n  const data = products.find(item => id === item._id);\n  openModal(data);\n}\n\nfunction getIdProducts(items = []) {\n  return items.map(item => item._id);\n}\n","const scrollToTopButton = document.getElementById('scrollToTopBtn');\nconst scrollOffset = 360;\n\nwindow.onscroll = function () {\n  if (\n    document.body.scrollTop > scrollOffset ||\n    document.documentElement.scrollTop > scrollOffset\n  ) {\n    scrollToTopButton.classList.add('show');\n  } else {\n    scrollToTopButton.classList.remove('show');\n  }\n};\n\nscrollToTopButton.addEventListener('click', function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["removeFromIcon","modalProduct","closeModalProductBtn","addToCartBtn","removeFromBtn","modalProductImage","modalProductName","modalProductCategory","modalProductSize","modalProductPopularity","modalProductDescription","modalProductPrice","modalOverlay","scrollToTopBtnEl","openModal","product","outsideModalClick","listProducts","getData","STORAGE_KEY","item","checkAdded","manageButton","addProduct","removeProduct","formatCategory","category","recheckCart","saveData","countAddedItems","changeOtherIcon","closeModal","event","productsList","addMarkup","el","markup","displayProducts","results","createCardMarkup","onClick","onShowModal","btnEl","id","items","existingItemIndex","newItem","FIRST_SET_KEY","cardEl","idProduct","getProductById","res","error","_id","name","img","size","price","popularity","is10PercentOff","storageData","check","card","visibility","onVisible","sprite","paginationMainContainer","paginationContainer","filterNomatches","FIRST_SET","newDisplayPagination","options","keyword","startLimit","paginationSearchParams","totalPages","getProductsByParams","points","Pagination","e","firstPage","lastPage","FoodApi","params","key","value","encodedParams","axios","response","LocalStorage","data","defaultOptions","filterForm","select","filterSelect","filterSelectList","foodApi","localStorageManager","chooseCategory","getProductsCategories","categories","option","showAllOption","selectItems","changeCategoryCards","filterSelectItem","listItem","searchValue","selectedItem","popularList","counter","getPopularProducts","createMarkup","elem","idBtn","selIdBtn","productSelected","checkLocalStorage","target","popularProductId","onSHowModal","elemAdded","btnProductId","selectedProduct","idBtnLS","selIdBtnLS","products","productAdded","dataId","val","truncate","str","maxlength","firstDigit","newName","idProducts","toggle","productEl","onLoad","getProducts","getIdProducts","scrollToTopButton","scrollOffset"],"mappings":"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"}