{"version":3,"file":"commonHelpers2.js","sources":["../src/js/header.js","../src/js/filters.js","../src/js/modal-product.js","../src/js/products.js","../src/js/pagination.js","../src/js/popular.js","../src/js/discount/api/discount-api.js","../src/js/discount/api/storage.js","../src/js/discount/markup-discount.js","../src/js/discount/discount.js","../src/js/scroll.js"],"sourcesContent":["const countProducts = document.getElementById('countProducts');\n// countProducts.innerHTML = `cart (${10})`;\nlet count = 0;\ndocument.getElementById('cartLink').addEventListener('click', () => {\n  countProducts.innerHTML = `cart (${++count})`;\n});\n\nconst newWord = 'Java Script';\nconsole.log(newWord.length - 1);\nconsole.log(newWord[newWord.length]);\n","// import { getProductsByParams, getProductsCategories } from './get-api';\n// import { createCardMarkup, displayProducts } from './products';\n\nconst URL_BASE = 'https://food-boutique.b.goit.study/api/';\n\nfunction getCategories() {\n  return fetch(`${URL_BASE}products/categories`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction getByParams(keyword, category, page, limit, sort) {\n  const params = new URLSearchParams({\n    keyword: keyword,\n    category: category,\n    page: page,\n    limit: limit,\n  });\n\n  if (sort && sort.key && sort.value) {\n    params[sort.key] = sort.value;\n  }\n\n  return fetch(`${URL_BASE}products`, { params }).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nconst productsListFilter = document.querySelector('.list-prod');\nconst filterForm = document.querySelector('.filter-form');\nconst filterSearchInput = document.querySelector('input');\nconst filterSelect = document.querySelector('.filter-select');\nconst filterSort = document.querySelector('.filter-sort');\n\nexport function createCard(results) {\n  if (!Array.isArray(results)) {\n    console.error('Invalid results:', results);\n    return '';\n  }\n  return results\n    .map(({ _id, name, img, category, size, price, popularity }) => {\n      return `\n        <li class=\"prod-item\" data-js-product-id=${_id}>   \n          <div class=\"prod-pic\">\n            <svg class=\"discont-prod\" width=\"60\" height=\"60\" style=\"visibility: hidden;\">\n              <use href=\"./images/icons.svg#shopping-cart\"></use>\n            </svg>\n            <img class=\"prod-img\" src=${img} alt=${name} loading=\"lazy\">\n          </div>\n          <h3 class=\"title-prod\">${name}</h3>\n          <div class=\"feature\">\n            <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category}</span></p>\n            <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n            <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n          </div>\n          <div class=\"buing-prod\">\n            <p class=\"price-prod\">&#36; ${price}</p>\n            <button class=\"buy-btn\" type=\"button\">\n              <svg class=\"buy-svg\" width=\"18\" height=\"18\">\n                <use href=\"./images/icons.svg#shopping-cart\"></use>\"></use>\n              </svg>\n            </button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n}\n\nasync function initialize() {\n  try {\n    const categories = await getCategories();\n\n    let showAllOption = document.createElement('option');\n    showAllOption.innerHTML = 'Show all';\n    filterSelect.appendChild(showAllOption);\n\n    categories.forEach(category => {\n      const option = document.createElement('option');\n      option.value = category;\n      option.text = category;\n      filterSelect.appendChild(option);\n    });\n\n    filterSelect.addEventListener('change', async function () {\n      updateLocalStorage({\n        ...getLocalStorage(),\n        category: this.value === 'Show all' ? null : this.value,\n        page: 1,\n      });\n\n      const storedData = getLocalStorage();\n      const products = await getByParams(storedData);\n      console.log(products);\n      productsListFilter.innerHTML = createCard(products);\n    });\n\n    const initialData = getLocalStorage();\n    const initialProducts = await getByParams(initialData);\n\n    productsListFilter.innerHTML = createCard(initialProducts);\n  } catch (error) {\n    console.error('Initialization error:', error);\n  }\n}\n\nfilterForm.addEventListener('submit', async function (e) {\n  e.preventDefault();\n  const searchQuery = this.elements.searchQuery.value\n    .trim()\n    .toLowerCase()\n    .split(' ');\n  const category = this.elements.categories.value;\n  this.elements.searchQuery.value = searchQuery ? searchQuery : '';\n  updateLocalStorage({\n    keyword: searchQuery,\n    category: category === 'Show all' ? null : category,\n    page: 1,\n    limit: 6,\n  });\n\n  const storedData = getLocalStorage();\n  const products = await getByParams(storedData);\n\n  productsListFilter.innerHTML = createCardMarkup(products);\n  this.elements.searchQuery.value = '';\n});\n\nfunction updateLocalStorage(data) {\n  localStorage.setItem('filterData', JSON.stringify(data));\n}\n\nfunction getLocalStorage() {\n  const storedData = localStorage.getItem('filterData');\n  return storedData\n    ? JSON.parse(storedData)\n    : { keyword: null, category: null, page: 1, limit: 6 };\n}\n\ninitialize();\n\n// import axios from 'axios';\n\n// axios.defaults.baseURL = 'https://food-boutique.b.goit.study/api/products';\n\n// async function getCategories() {\n//   try {\n//     const response = await axios.get(`/categories`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching product categories:', error);\n//     throw error;\n//   }\n// }\n\n// async function getByParams(keyword, category, page, limit, sort) {\n//   try {\n//     const params = {\n//       keyword: keyword,\n//       category: category,\n//       page: page,\n//       limit: limit,\n//     };\n\n//     if (sort && sort.key && sort.value) {\n//       params[sort.key] = sort.value;\n//     }\n\n//     const response = await axios.get(``, { params: params });\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching products:', error);\n//     throw error;\n//   }\n// }\n\n// const productsListFilter = document.querySelector('.list-prod');\n// const filterForm = document.querySelector('.filter-form');\n// const filterSearchInput = document.querySelector('input');\n// const filterSelect = document.querySelector('.filter-select');\n// const filterSort = document.querySelector('.filter-sort');\n\n// async function initialize() {\n//   try {\n//     const categories = await getCategories();\n\n//     let showAllOption = document.createElement('option');\n//     showAllOption.innerHTML = 'Show all';\n//     filterSelect.appendChild(showAllOption);\n\n//     categories.forEach(category => {\n//       const option = document.createElement('option');\n//       option.value = category;\n//       option.text = category;\n//       filterSelect.appendChild(option);\n//     });\n\n//     filterSelect.addEventListener('change', async function () {\n//       updateLocalStorage({\n//         ...getLocalStorage(),\n//         category: this.value === 'Show all' ? null : this.value,\n//         page: 1,\n//       });\n\n//       const storedData = getLocalStorage();\n//       const products = await getByParams(storedData);\n\n//       productsListFilter.innerHTML = createCardMarkup(products);\n//     });\n\n//     const initialData = getLocalStorage();\n//     const initialProducts = await getByParams(initialData);\n\n//     productsListFilter.innerHTML = createCardMarkup(initialProducts);\n//   } catch (error) {\n//     console.error('Initialization error:', error);\n//   }\n// }\n\n// filterForm.addEventListener('submit', async function (e) {\n//   e.preventDefault();\n//   const searchQuery = this.elements.searchQuery.value\n//     .trim()\n//     .toLowerCase()\n//     .split(' ');\n//   const category = this.elements.categories.value;\n//   this.elements.searchQuery.value = searchQuery ? searchQuery : '';\n//   updateLocalStorage({\n//     keyword: searchQuery,\n//     category: category === 'Show all' ? null : category,\n//     page: 1,\n//     limit: 6,\n//   });\n\n//   const storedData = getLocalStorage();\n//   const products = await getByParams(storedData);\n\n//   productsListFilter.innerHTML = createCardMarkup(products);\n//   this.elements.searchQuery.value = '';\n// });\n\n// function updateLocalStorage(data) {\n//   localStorage.setItem('filterData', JSON.stringify(data));\n// }\n\n// function getLocalStorage() {\n//   const storedData = localStorage.getItem('filterData');\n//   return storedData\n//     ? JSON.parse(storedData)\n//     : { keyword: null, category: null, page: 1, limit: 6 };\n// }\n\n// // Call the initialize function to start the process\n// initialize();\n\n// import axios from 'axios';\n\n// axios.defaults.baseURL = 'https://food-boutique.b.goit.study/api/products';\n\n// async function getCategories() {\n//   try {\n//     const response = await axios.get(`/categories`);\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching product categories:', error);\n//     throw error;\n//   }\n// }\n\n// async function getByParams(keyword, category, page, limit, sort) {\n//   try {\n//     const params = {\n//       keyword: keyword,\n//       category: category,\n//       page: page,\n//       limit: limit,\n//     };\n\n//     if (sort && sort.key && sort.value) {\n//       params[sort.key] = sort.value;\n//     }\n\n//     const response = await axios.get(``, { params: params });\n//     return response.data;\n//   } catch (error) {\n//     console.error('Error fetching products:', error);\n//     throw error;\n//   }\n// }\n\n// const productsListFilter = document.querySelector('.list-prod');\n// const filterForm = document.querySelector('.filter-form');\n// const filterSearchInput = document.querySelector('input');\n// const filterSelect = document.querySelector('.filter-select');\n// const filterSort = document.querySelector('.filter-sort');\n\n// filterForm.addEventListener('submit', async function (e) {\n//   e.preventDefault();\n//   const searchQuery = this.elements.searchQuery.value\n//     .trim()\n//     .toLowerCase()\n//     .split(' ');\n//   const category = this.elements.categories.value;\n//   this.elements.searchQuery.value = searchQuery ? searchQuery : '';\n//   updateLocalStorage({\n//     keyword: searchQuery,\n//     category: category === 'Show all' ? null : category,\n//     page: 1,\n//     limit: 6,\n//   });\n\n//   const storedData = getLocalStorage();\n\n//   const products = await getByParams(storedData);\n\n//   productsListFilter.innerHTML = createCardMarkup(products);\n//   this.elements.searchQuery.value = '';\n// });\n\n// function updateLocalStorage(data) {\n//   localStorage.setItem('filterData', JSON.stringify(data));\n// }\n\n// function getLocalStorage() {\n//   const storedData = localStorage.getItem('filterData');\n//   return storedData\n//     ? JSON.parse(storedData)\n//     : { keyword: null, category: null, page: 1, limit: 6 };\n// }\n\n// const categories = getCategories();\n\n// let showAllOption = document.createElement('option');\n// showAllOption.innerHTML = 'Show all';\n// filterSelect.appendChild(showAllOption);\n\n// categories.forEach(category => {\n//   const option = document.createElement('option');\n//   option.value = category;\n//   option.text = category;\n//   filterSelect.appendChild(option);\n// });\n\n// filterSelect.addEventListener('change', async function () {\n//   updateLocalStorage({\n//     ...getLocalStorage(),\n//     category: this.value === 'Show all' ? null : this.value,\n//     page: 1,\n//   });\n\n//   const storedData = getLocalStorage();\n\n//   const products = getByParams(storedData);\n\n//   productsListFilter.innerHTML = createCardMarkup(products);\n// });\n\n// const initialData = getLocalStorage();\n// const initialProducts = getByParams(initialData);\n\n// productsListFilter.innerHTML = createCardMarkup(initialProducts);\n","// modal-product.js\n\nconst modalProduct = document.getElementById('modalProduct');\nconst closeModalProductBtn = document.getElementById('closeModalProductBtn');\nconst addToCartBtn = document.getElementById('addToCartBtn');\nconst modalProductImage = document.getElementById('modalProductImage');\nconst modalProductName = document.getElementById('modalProductName');\nconst modalProductCategory = document.getElementById('modalProductCategory');\nconst modalProductSize = document.getElementById('modalProductSize');\nconst modalProductPopularity = document.getElementById('modalProductPopularity');\nconst modalProductDescription = document.getElementById('modalProductDescription');\nconst modalProductPrice = document.getElementById('modalProductPrice');\n\nexport function openModal(product) {\n    if (!product || !product.img) {\n        console.error('Product data is missing or incomplete.');\n        return;\n    }\n    // console.log(product); \n\n    modalProductImage.src = product.img;\n    modalProductName.textContent = product.name;\n\n  \n    modalProductCategory.innerHTML = `Category: <span id=\"priceText\">$ ${product.category}</span>`;\n    document.getElementById('priceText').style.color = 'black';\n    modalProductSize.innerHTML = `Size: <span id=\"priceTexte\">$ ${product.size}</span>`;\n    document.getElementById('priceTexte').style.color = 'black';\n    modalProductPopularity.innerHTML = `Popularity: <span id=\"priceTex\">$ ${product.popularity}</span>`;\n    document.getElementById('priceTex').style.color = 'black';\n     // modalProductCategory.textContent = `Category: ${product.category}`;\n     // modalProductSize.textContent = `Size: ${product.size}`;\n      // modalProductPopularity.textContent = `Popularity: ${product.popularity}`;\n    modalProductDescription.textContent = `${product.desc}`;\n    modalProductPrice.textContent = `$ ${product.price}`;\n\n       // const existingOverlay = document.querySelector('.modal-overlay');\n    // if (!existingOverlay) {\n\n    // const overlay = document.createElement('div');\n    // overlay.classList.add('modal-overlay');\n    // document.body.appendChild(overlay);\n    // overlay.addEventListener('click', closeModal);\n    // }\n\n\n    document.body.style.overflow = 'hidden';\n    modalProduct.style.display = 'block';\n    window.addEventListener('click', outsideModalClick);\n}\n\nfunction closeModal() {\n    document.body.style.overflow = '';\n    modalProduct.style.display = 'none';\n    window.removeEventListener('click', outsideModalClick);\n\n       // const overlay = document.querySelector('.modal-overlay');\n    // if (overlay) {\n    //   document.body.removeChild(overlay);\n    // }\n}\n\n// Event listeners\ncloseModalProductBtn.addEventListener('click', closeModal);\n\n// Close the modal if the user clicks outside of it\n// window.addEventListener('click', function (event) {\n//     if (event.target === modalProduct) {\n//         closeModal();\n//     }\n// });\n\nwindow.addEventListener('click', outsideModalClick);\n\ndocument.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\nfunction outsideModalClick(event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n}\n// Close the modal if the user clicks outside of it\nwindow.addEventListener('click', function (event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n});\n\n// Add product to cart logic\naddToCartBtn.addEventListener('click', function () {\n    // Implement logic to add the product to the cart and update the UI\n    // You can use localStorage to store the cart information\n    // Example:\n    // const productId = product.id;\n    // const cart = JSON.parse(localStorage.getItem('cart')) || {};\n    // cart[productId] = (cart[productId] || 0) + 1;\n    // localStorage.setItem('cart', JSON.stringify(cart));\n\n    // After updating the cart, you might want to close the modal\n    closeModal();\n});","import { getProductsByParams } from './get-api';\n\nimport { openModal } from './modal-product';\nimport { getProductById } from './get-api';\n\nconst productsList = document.querySelector('.list-prod');\n\nconst defaultParameters = {\n  keyword: '',\n  category: '',\n  page: 1,\n  limit: 9,\n};\n\n// ________________\n\n// export function saveData(data) {\n//   localStorage.setItem('defaultParameters', JSON.stringify(defaultParameters));\n// }\n\n// export function getData() {\n//   try {\n//     const result = localStorage.getItem('defaultParameters');\n//     return result ? JSON.parse(result) : {};\n//   } catch (error) {\n//     console.log(error);\n//   }\n// }\n\n// saveData();\n\n// // _______________________________\n\nexport function addMarkup(el, markup) {\n  el.innerHTML = markup;\n}\n\nasync function displayProducts(pageNumber) {\n  try {\n    defaultParameters.page = pageNumber;\n    const { results } = await getProductsByParams(defaultParameters);\n    console.log('Products:', results); // Додайте цей рядок\n    const markup = createCardMarkup(results);\n    addMarkup(productsList, markup);\n\n    const productCards = document.querySelectorAll('.prod-item');\n    productCards.forEach(card => {\n      card.addEventListener('click', async () => {\n        const productId = card.getAttribute('data-js-product-id');\n        // console.log('Selected productId:', productId);\n        try {\n          // const selectedProduct = results.find(\n          //   product => product._id.toString() === productId\n          // );\n          const selectedProduct = await getProductById(productId);\n\n        if (selectedProduct) {\n          openModal(selectedProduct);\n        } else {\n          console.error('Selected product not found:', productId);\n        }\n      } catch (error) {\n        console.error('Error fetching product by ID:', error);\n      }\n\n        // console.log(productId);\n        // console.log(results);\n      });\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function createCardMarkup(results) {\n  return results\n    .map(({ _id, name, img, category, size, price, popularity }) => {\n      return `\n        <li class=\"prod-item\" data-js-product-id=${_id}>   \n          <div class=\"prod-pic\">\n            <svg class=\"discont-prod\" width=\"60\" height=\"60\" style=\"visibility: hidden;\">\n              <use href=\"./images/icons.svg#shopping-cart\"></use>\n            </svg>\n            <img class=\"prod-img\" src=${img} alt=${name} loading=\"lazy\">\n          </div>\n          <h3 class=\"title-prod\">${name}</h3>\n          <div class=\"feature\">\n            <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category}</span></p>\n            <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n            <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n          </div>\n          <div class=\"buing-prod\">\n            <p class=\"price-prod\">&#36; ${price}</p>\n            <button class=\"buy-btn\" type=\"button\">\n              <svg class=\"buy-svg\" width=\"18\" height=\"18\">\n                <use href=\"./images/icons.svg#shopping-cart\"></use>\"></use>\n              </svg>\n            </button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n}\n\ndisplayProducts();\nexport { displayProducts };\n","// import Pagination from 'tui-pagination';\n// import 'tui-pagination/dist/tui-pagination.css';\n// import { displayProducts } from './products';\n\n// const itemsPerPage = 9;\n// let totalItems = 540; //! Загальна кількість елементів  540 : 9 = 60 сторінок\n// let currentPage = 1;\n\n// const paginationContainer = document.getElementById('pagination');\n\n// // Ініціалізація екземпляру пагінації\n// const pagination = new Pagination(paginationContainer, {\n//   totalItems,\n//   itemsPerPage,\n//   visiblePages: 5,\n//   centerAlign: true,\n// });\n\n// pagination.on('beforeMove', (event) => {\n//   currentPage = event.page;\n//   updatePage(currentPage);\n// });\n\n// async function updatePage(pageNumber) {\n//   displayProducts(pageNumber);\n// }\n\n// updatePage(currentPage);\n\n// //! Варіант 2\n// import { displayProducts } from './products'; //! імпортувала\n\n// const paginationContainer = document.getElementById('pagination');\n\n// // Функція для відображення пагінації\n// async function displayPagination(currentPage, totalPages) {\n//   const paginationContainer = document.getElementById('pagination');\n//   paginationContainer.innerHTML = '';\n\n//   if (totalPages > 1) {\n//     const MAX_VISIBLE_PAGES = 5;\n\n//     // Додаємо посилання для поточної та сусідніх сторінок\n//     for (\n//       let i = Math.max(1, currentPage - 1);\n//       i <= Math.min(totalPages, currentPage + 1);\n//       i += 1\n//     ) {\n//       appendPageLink(i, i === currentPage);\n//     }\n\n//     // Додаємо \"...\"\n//     if (totalPages - currentPage > MAX_VISIBLE_PAGES - 2) {\n//       const ellipsis = document.createElement('span');\n//       ellipsis.textContent = '. . .';\n//       paginationContainer.appendChild(ellipsis);\n//     }\n\n//     // Додаємо посилання на останні дві сторінки\n//     for (\n//       let i = Math.max(\n//         totalPages - MAX_VISIBLE_PAGES + 4\n//         // totalPages - MAX_VISIBLE_PAGES + 1\n//       );\n//       i <= totalPages;\n//       i += 1\n//     ) {\n//       appendPageLink(i);\n//     }\n//   }\n// }\n\n// // Функція для додавання посилання на сторінку до пагінації\n// function appendPageLink(pageNumber, isActive = false) {\n//   const paginationContainer = document.getElementById('pagination'); // Додав цей рядок\n//   const li = document.createElement('li');\n//   const linkWrapper = document.createElement('div');\n//   linkWrapper.classList.add('pagination-link');\n//   const link = document.createElement('a');\n//   link.href = `javascript:void(0);`;\n//   link.textContent = pageNumber;\n\n//   if (isActive) {\n//     linkWrapper.classList.add('active');\n//   }\n\n//   link.addEventListener('click', () => onPageLinkClick(pageNumber));\n//   linkWrapper.appendChild(link);\n//   li.appendChild(linkWrapper);\n//   paginationContainer.appendChild(li);\n// }\n\n// // Обробник кліку на посилання пагінації\n// function onPageLinkClick(pageNumber) {\n//   displayProducts(pageNumber); //! змінила на імпортовану функцію\n//   displayPagination(pageNumber, 60); // Загальна кількість сторінок\n// }\n\n// // Відображення початкової сторінки\n// const initialPage = 1;\n// displayProducts(initialPage); //! змінила на імпортовану функцію\n// displayPagination(initialPage, 60); // Загальна кількість сторінок\n\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { displayProducts } from './products';\nconst itemsPerPage = 9; // Кількість елементів на сторінці\nlet totalItems = 540; //! Загальна кількість елементів  540 : 9 = 60 сторінок\nlet currentPage = 1;\n// Отримання посилання на контейнер пагінації\nconst paginationContainer = document.getElementById('pagination');\n// Ініціалізація екземпляру пагінації\nconst pagination = new Pagination(paginationContainer, {\n  totalItems,\n  itemsPerPage,\n  visiblePages: 5, // Максимальна кількість видимих сторінок\n  centerAlign: true,\n});\n// Обробник події зміни сторінки\npagination.on('beforeMove', event => {\n  currentPage = event.page;\n  updatePage(currentPage);\n});\n// Функція для відображення продуктів та оновлення пагінації\nasync function updatePage(pageNumber) {\n  displayProducts(pageNumber);\n}\n// Відображення продуктів та налаштування пагінації\nupdatePage(currentPage);\n","import { getPopularProducts } from './get-api';\nimport { openModal } from './modal-product';\n\nconst popularList = document.querySelector('.popular-list');\n\ngetPopularProducts(5)\n  .then(data => {\n    popularList.insertAdjacentHTML('beforeend', createMarkup(data));\n\n    function onClick(event) {\n      let target = event.target;\n\n      if (target.closest('.popular-card')) {\n        const popularCard = target.closest('.popular-card');\n        const popularProductId = popularCard.getAttribute('data-js-product-id');\n        const selectedProduct = data.find(\n          product => product._id.toString() === popularProductId\n        );\n        openModal(selectedProduct);\n      } else if (target.closest('.btn-add')) {\n        target.closest('.btn-add').classList.add('visually-hidden');\n        alert('Product add to Order');\n      }\n    }\n\n    popularList.addEventListener('click', onClick);\n  })\n  .catch(error => {\n    console.error(error);\n  });\n\nfunction createMarkup(items) {\n  return items\n    .map(({ _id, name, img, category, popularity, size, price }) => {\n      // додав строку 15  та ретерн на 17\n      const firstDigit = parseInt(popularity.toString()[0]);\n\n      return `  <li class=\"popular-item\">\n      <button class=\"btn-add\" type=\"button\">\n        <svg class=\"svg-add\" width=\"12\" height=\"12\">\n          <use href=\"./images/icons.svg#shopping-cart\"></use>\n        </svg>\n      </button>\n      <span class=\"product-added\">\n        <svg class=\"svg-added\" width=\"12\" height=\"12\">\n          <use href=\"./images/icons.svg#check\"></use>\n        </svg>\n      </span>\n        <div class=\"popular-card\" data-js-product-id=${_id}>\n          <div class=\"popular-box-img\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\"  width=\"56\" />\n          </div>\n          <div class=\"popular-description\">\n            <h3 class=\"popular-card-title\">${name}</h3>\n            <p class=\"popular-card-text category\">Category: <span class=\"popular-text\">${category.replace(\n              '_',\n              ' '\n            )}</span></p>\n            <div class=\"card-descr\">\n              <p class=\"popular-card-text\">Size: <span class=\"popular-text\">${size}</span></p>\n              <p class=\"popular-card-text\">Popularity: <span class=\"popular-text\">${firstDigit}</span></p>\n            </div>\n          </div>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api/';\n\nexport function getProducts() {\n  return axios.get('products/discount').then(response => response.data);\n}\n","const STORAGE_KEY = 'product-discount';\n\nexport function getData() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.lof(error.message);\n  }\n}\n\nexport function saveData(items) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n","export function createMarkup(items = []) {\n  return items\n    .map(item => {\n      return ` <div class=\"card-product-discount\" data-id=\"${item._id}\">\n    <div class=\"card-product-wrapper\">\n        <img class=\"card-product-img\"\n            src=\"${item.img}\"\n            width=\"105\" height=\"105\" alt=\"${item.desc}\" />\n    </div>\n    <div class=\"card-product-info\">\n        <h3 class=\"card-product-title\">${item.name}</h3>\n        <div class=\"card-product-info-right\">\n            <p class=\"card-product-price\">${item.price}</p>\n\n            <button type=\"button\" class=\"card-product-btn\" >\n            <svg class=\"card-product-svg\" width=\"18\" height=\"18\">\n            <use href=\"./images/icons.svg#shopping-cart\"></use>\n          </svg>\n            </button>\n            <span class=\"product-added\">\n            <svg class=\"svg-added\" width=\"12\" height=\"12\">\n              <use href=\"./images/icons.svg#check\"></use>\n            </svg>\n          \n        </div>\n    </div>\n</div>\n`;\n    })\n    .join('');\n}\n","import { getProducts } from './api/discount-api';\nimport { getData, saveData } from './api/storage';\nimport { createMarkup } from './markup-discount';\n\nlet products = [];\nconst productEl = document.querySelector('.products-discount');\nconsole.log(productEl);\n\nasync function onLoad() {\n  const response = await getProducts();\n\n  products = response.slice(0, 2);\n\n  const markup = createMarkup(products);\n\n  addMarkup(markup);\n}\nonLoad();\n\nfunction addMarkup(markup) {\n  productEl.insertAdjacentHTML('beforeend', markup);\n}\n\nproductEl.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  if (!event.target.closest('.cart-product-btn')) {\n    return;\n  }\n  const cardEl = event.target.closest('.cart-product-discount');\n  const id = cardEl.dataset.id;\n\n  //   console.log(data);\n  const items = getData();\n  if (items.find(item => id === item._id)) {\n    saveData(items.filter(item => id !== item._id));\n  } else {\n    const data = products.find(item => id === item._id);\n    items.push(data);\n    saveData(items);\n  }\n}\n","const scrollToTopButton = document.getElementById('scrollToTopBtn');\nconst scrollOffset = 360;\n\nwindow.onscroll = function () {\n  if (\n    document.body.scrollTop > scrollOffset ||\n    document.documentElement.scrollTop > scrollOffset\n  ) {\n    scrollToTopButton.classList.add('show');\n  } else {\n    scrollToTopButton.classList.remove('show');\n  }\n};\n\nscrollToTopButton.addEventListener('click', function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["countProducts","count","newWord","URL_BASE","getCategories","response","getByParams","keyword","category","page","limit","sort","params","productsListFilter","filterForm","filterSelect","createCard","results","_id","name","img","size","price","popularity","initialize","categories","showAllOption","option","updateLocalStorage","getLocalStorage","storedData","products","initialData","initialProducts","error","e","searchQuery","data","modalProduct","closeModalProductBtn","addToCartBtn","modalProductImage","modalProductName","modalProductCategory","modalProductSize","modalProductPopularity","modalProductDescription","modalProductPrice","openModal","product","outsideModalClick","closeModal","event","productsList","defaultParameters","addMarkup","el","markup","displayProducts","pageNumber","getProductsByParams","createCardMarkup","card","productId","selectedProduct","getProductById","itemsPerPage","totalItems","currentPage","paginationContainer","pagination","Pagination","updatePage","popularList","getPopularProducts","createMarkup","onClick","target","popularProductId","items","firstDigit","axios","getProducts","STORAGE_KEY","getData","saveData","item","productEl","onLoad","id","scrollToTopButton","scrollOffset"],"mappings":"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"}