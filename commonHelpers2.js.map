{"version":3,"file":"commonHelpers2.js","sources":["../src/js/filters.js","../src/js/modal-product.js","../src/js/products.js","../src/js/pagination.js","../src/js/popular.js","../src/js/discount/storage.js","../src/js/discount/markup-discount.js","../src/js/discount/discount.js","../src/js/footer.js","../src/js/scroll.js"],"sourcesContent":["import { getProductsCategories } from './get-api';\nimport axios from 'axios';\n\nclass FoodApi {\n  constructor() {\n    this.URL = `https://food-boutique.b.goit.study/api`;\n    this.searchQuery = '';\n    this.category = '';\n    this.currentPage = 1;\n    this.perPage = 90;\n  }\n\n  paramsFromApi(params) {\n    return Object.entries(params)\n      .map(\n        ([key, value]) =>\n          `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n      )\n      .join('&');\n  }\n\n  getFoodList() {\n    const params = {\n      keyword: this.searchQuery,\n      category: this.category,\n      page: this.currentPage,\n      limit: this.perPage,\n    };\n\n    const encodedParams = this.paramsFromApi(params);\n\n    return axios.get(`${this.URL}/products?${encodedParams}`).then(response => {\n      return response.data;\n    });\n  }\n}\n\nclass LocalStorage {\n  updateLsWithList(data, options) {\n    if (!localStorage.getItem('options')) {\n      this.defaultApiOptions();\n    }\n\n    localStorage.setItem('products', JSON.stringify(data.results));\n    localStorage.setItem('options', JSON.stringify(options));\n  }\n\n  defaultApiOptions() {\n    const defaultOptions = {\n      keyword: null,\n      category: null,\n      page: 1,\n      limit: 6,\n    };\n    localStorage.setItem('options', JSON.stringify(defaultOptions));\n  }\n}\n\nexport function createFirst(currentPage) {\n  const savedProduct = localStorage.getItem('res.data');\n  const parseItem = JSON.parse(savedProduct);\n\n  productsListFilter.innerHTML = '';\n  let firstElOnPage;\n  let limitтNumberProd;\n  if (isNaN((page - 1) * limit)) {\n    firstElOnPage = 0;\n  } else {\n    firstElOnPage = (page - 1) * limit;\n  }\n  limitтNumberProd = +pageProd * +limitProd;\n  console.log(firstElOnPage);\n  console.log(limitтNumberProd);\n  try {\n    const dataItems = parseItem;\n    if (dataItems && currentPage >= 2) {\n      let pageCounter = (currentPage - 1) * 8;\n      const itemsToDisplay = dataItems.slice(\n        firstElOnPage + pageCounter,\n        limitтNumberProd + pageCounter\n      );\n      for (let i = 0; i < itemsToDisplay.length; i += 1) {\n        const markup = creatMarkupProd(itemsToDisplay[i]);\n        productsList.insertAdjacentHTML('beforeend', markup);\n      }\n    } else if (dataItems && dataItems.length > 0) {\n      const itemsToDisplay = dataItems.slice(firstElOnPage, limitтNumberProd);\n      for (let i = 0; i < itemsToDisplay.length; i += 1) {\n        const markup = creatMarkupProd(itemsToDisplay[i]);\n        productsListFilter.insertAdjacentHTML('beforeend', markup);\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function createMarkupCard(results) {\n  const { _id, name, img, category, size, price, popularity } = results;\n  return `\n        <li class=\"prod-item\" data-js-product-id=${_id}>   \n          <div class=\"prod-pic\">\n            <svg class=\"discont-prod\" width=\"60\" height=\"60\" style=\"visibility: hidden;\">\n              <use href=\"./images/icons.svg#shopping-cart\"></use>\n            </svg>\n            <img class=\"prod-img\" src=${img} alt=${name} loading=\"lazy\">\n          </div>\n          <h3 class=\"title-prod\">${name}</h3>\n          <div class=\"feature\">\n            <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category}</span></p>\n            <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n            <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n          </div>\n          <div class=\"buing-prod\">\n            <p class=\"price-prod\">&#36; ${price}</p>\n            <button class=\"buy-btn\" type=\"button\">\n              <svg class=\"buy-svg\" width=\"18\" height=\"18\">\n                <use href=\"./images/icons.svg#shopping-cart\"></use>\"></use>\n              </svg>\n            </button>\n          </div>\n        </li>\n      `;\n}\n\nconst productsListFilter = document.querySelector('.list-prod');\nconst filterForm = document.querySelector('.filter-form');\nconst filterSelect = document.querySelector('.filter-select');\n\nconst foodApi = new FoodApi();\nconst localStorageManager = new LocalStorage();\n\ngetProductsCategories().then(categories => {\n  categories.forEach(category => {\n    const option = document.createElement('option');\n    option.value = category;\n    option.textContent = category;\n    filterSelect.appendChild(option);\n  });\n\n  const showAllOption = createShowAll();\n  filterSelect.appendChild(showAllOption);\n});\n\nexport function createShowAll() {\n  const showAllOption = document.createElement('option');\n  showAllOption.textContent = 'Show All';\n  showAllOption.value = 'show-all';\n  return showAllOption;\n}\n\nfilterForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n  const searchValue = event.target.elements.searchQuery.value;\n  console.log('Search Value:', searchValue);\n  try {\n    let options = JSON.parse(localStorage.getItem('options')) || {};\n    options.keyword = searchValue;\n    foodApi.searchQuery = searchValue;\n    console.log('foodApi.searchQuery:', foodApi.searchQuery);\n    foodApi\n      .getFoodList()\n      .then(function (data) {\n        localStorageManager.updateLsWithList(data, options);\n        const productsArray = JSON.parse(localStorage.getItem('products'));\n        const arrayLength = productsArray.length;\n        console.log(arrayLength);\n        createFirstFilter(productsArray);\n      })\n      .catch(function (error) {\n        console.error('Error fetching food list:', error.message);\n      });\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n});\n\nfilterSelect.addEventListener('change', function () {\n  const selectedItem = filterSelect.value;\n\n  try {\n    let options = JSON.parse(localStorage.getItem('options')) || {};\n    if (selectedItem === 'show-all') {\n      localStorage.removeItem('products');\n      localStorageManager.defaultApiOptions();\n      document.getElementById('search').value = '';\n      categoriesFilter();\n    } else {\n      options.category = selectedItem;\n      foodApi.category = selectedItem;\n      foodApi\n        .getFoodList()\n        .then(function (data) {\n          localStorageManager.updateLsWithList(data, options);\n          const productsArray = JSON.parse(localStorage.getItem('products'));\n          const arrayLength = productsArray.length;\n\n          createFirstFilter(productsArray);\n        })\n        .catch(function (error) {\n          console.error('Error fetching list:', error.message);\n        });\n    }\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n});\n\nexport function createFirstFilter(currentPage) {\n  let pageProd = 1;\n  const page = 1;\n  const limit = 90;\n  const productKey = JSON.parse(localStorage.getItem('products'));\n\n  productsListFilter.innerHTML = '';\n  let firstElOnPage;\n  let limitтNumberProd;\n  if (isNaN((page - 1) * limit)) {\n    firstElOnPage = 0;\n  } else {\n    firstElOnPage = (page - 1) * limit;\n  }\n  limitтNumberProd = +pageProd * +limit;\n  console.log(firstElOnPage);\n  console.log(limitтNumberProd);\n  try {\n    if (productKey && currentPage >= 1) {\n      let pageCounter = (currentPage - 1) * 8;\n      const itemsToDisplay = productKey.slice(\n        firstElOnPage + pageCounter,\n        limitтNumberProd + pageCounter\n      );\n      for (let i = 0; i < itemsToDisplay.length; i += 1) {\n        const markup = createMarkupCard(itemsToDisplay[i]);\n        productsListFilter.insertAdjacentHTML('beforeend', markup);\n      }\n    } else if (productKey && productKey.length > 0) {\n      const itemsToDisplay = productKey.slice(firstElOnPage, limitтNumberProd);\n      for (let i = 0; i < itemsToDisplay.length; i += 1) {\n        const markup = createMarkupCard(itemsToDisplay[i]);\n        productsListFilter.insertAdjacentHTML('beforeend', markup);\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n","// modal-product.js\n\nconst modalProduct = document.getElementById('modalProduct');\nconst closeModalProductBtn = document.getElementById('closeModalProductBtn');\nconst addToCartBtn = document.getElementById('addToCartBtn');\nconst modalProductImage = document.getElementById('modalProductImage');\nconst modalProductName = document.getElementById('modalProductName');\nconst modalProductCategory = document.getElementById('modalProductCategory');\nconst modalProductSize = document.getElementById('modalProductSize');\nconst modalProductPopularity = document.getElementById('modalProductPopularity');\nconst modalProductDescription = document.getElementById('modalProductDescription');\nconst modalProductPrice = document.getElementById('modalProductPrice');\n\nexport function openModal(product) {\n    if (!product || !product.img) {\n        console.error('Product data is missing or incomplete.');\n        return;\n    }\n    // console.log(product); \n\n    modalProductImage.src = product.img;\n    modalProductName.textContent = product.name;\n\n  \n    modalProductCategory.innerHTML = `Category: <span id=\"priceText\">$ ${product.category}</span>`;\n    document.getElementById('priceText').style.color = 'black';\n    modalProductSize.innerHTML = `Size: <span id=\"priceTexte\">$ ${product.size}</span>`;\n    document.getElementById('priceTexte').style.color = 'black';\n    modalProductPopularity.innerHTML = `Popularity: <span id=\"priceTex\">$ ${product.popularity}</span>`;\n    document.getElementById('priceTex').style.color = 'black';\n     // modalProductCategory.textContent = `Category: ${product.category}`;\n     // modalProductSize.textContent = `Size: ${product.size}`;\n      // modalProductPopularity.textContent = `Popularity: ${product.popularity}`;\n    modalProductDescription.textContent = `${product.desc}`;\n    modalProductPrice.textContent = `$ ${product.price}`;\n\n       // const existingOverlay = document.querySelector('.modal-overlay');\n    // if (!existingOverlay) {\n\n    // const overlay = document.createElement('div');\n    // overlay.classList.add('modal-overlay');\n    // document.body.appendChild(overlay);\n    // overlay.addEventListener('click', closeModal);\n    // }\n\n\n    // document.body.style.overflow = 'hidden';\n    modalProduct.style.display = 'block';\n    window.addEventListener('click', outsideModalClick);\n}\n\nfunction closeModal() {\n    document.body.style.overflow = '';\n    modalProduct.style.display = 'none';\n    window.removeEventListener('click', outsideModalClick);\n\n       // const overlay = document.querySelector('.modal-overlay');\n    // if (overlay) {\n    //   document.body.removeChild(overlay);\n    // }\n}\n\n// Event listeners\ncloseModalProductBtn.addEventListener('click', closeModal);\n\n// Close the modal if the user clicks outside of it\n// window.addEventListener('click', function (event) {\n//     if (event.target === modalProduct) {\n//         closeModal();\n//     }\n// });\n\nwindow.addEventListener('click', outsideModalClick);\n\ndocument.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\nfunction outsideModalClick(event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n}\n// Close the modal if the user clicks outside of it\nwindow.addEventListener('click', function (event) {\n    if (event.target === modalProduct) {\n        closeModal();\n    }\n});\n\n// Add product to cart logic\naddToCartBtn.addEventListener('click', function () {\n    // Implement logic to add the product to the cart and update the UI\n    // You can use localStorage to store the cart information\n    // Example:\n    // const productId = product.id;\n    // const cart = JSON.parse(localStorage.getItem('cart')) || {};\n    // cart[productId] = (cart[productId] || 0) + 1;\n    // localStorage.setItem('cart', JSON.stringify(cart));\n\n    // After updating the cart, you might want to close the modal\n    closeModal();\n});","import sprite from '../images/icons.svg';\n// import { first, result } from 'lodash';\n// import { getProductsByParams } from './get-api';\n\n\nimport { openModal } from './modal-product';\n\nconst productsList = document.querySelector('.list-prod');\nconst STORAGE_KEY = 'added-item';\nconst GetLocal = 'firstGet';\n\n// LocalStorage\nexport function saveData(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\nexport function getData(GetLocal) {\n  try {\n    const result = localStorage.getItem(GetLocal);\n    return result ? JSON.parse(result) : [];\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// Markup\nexport function addMarkup(el, markup) {\n  el.innerHTML = markup;\n}\n\n// передаєм на пвгінацію для відмальовки карток\nexport async function displayProducts(results) {\n  const markup = createCardMarkup(results);\n  addMarkup(productsList, markup);\n}\n\n// достаем дані з локал\nconst items = getData(GetLocal);\nconsole.log(items);\n\nconst productId = getIdProducts(items);\nconsole.log(productId);\n\n\n\nconst toggle = productId.includes(items._id);\nconsole.log(toggle);\n\n\n\n\nproductsList.addEventListener('click', onClick);\nproductsList.addEventListener('click', onShowModal);\n\nfunction onClick(event) {\n  const btnEl = event.target.closest('.buy-btn');\n  if (!btnEl) {\n    return;\n  }\n  // elemets\n  const cardEl = event.target.closest('.prod-item');\nconsole.log(cardEl);\n  const icons = btnEl.querySelectorAll('svg');\n\n// data- id\n  const id = cardEl.getAttribute('data-js-product-id');\nconsole.log(id);\n \n  // отримуєм дані з локалки для зрівнняня\n  const items = getData(GetLocal);\n  console.log(items);\n// перевіряєм і додаєм до локал покищо не віднімає\n if (items.find(item => id === item._id)) {\n   const updatedItems = items.filter(item => id !== item._id);\n   saveData(STORAGE_KEY, updatedItems);\n } else {\n   const data = products.find(item => id === item._id);\n   items.push(data);\n   saveData(STORAGE_KEY, items);\n }\n\n  icons.forEach(element => {\n    element.classList.toggle('is-hidden');\n  });\n}\n\nfunction onShowModal(event) {\n  const cardEl = event.target.closest('.prod-item');\n  // console.log(cardEl);\n  const btnEl = event.target.closest('.buy-btn');\n  // console.log(btnEl);\n\n  if (!cardEl || btnEl) {\n    return;\n  }\n  const idProduct = cardEl.getAttribute('data-js-product-id');\n  // console.log(idProduct);\n  const dataID = items.find(item => idProduct === item._id);\n  // console.log(dataID);\n  openModal(dataID);\n}\n\nfunction getIdProducts(items = []) {\n  return items.map(item => item._id);\n}\n\nexport function createCardMarkup(results) {\n  const check = toggle ? '' : 'is-hidden';\n\n  const card = toggle ? 'is-hidden' : '';\n\n  return results\n    .map(({ _id, name, img, category, size, price, popularity }) => {\n      return `\n        <li class=\"prod-item\" data-js-product-id=${_id}>   \n          <div class=\"prod-pic\">\n            <svg class=\"discont-prod\" width=\"60\" height=\"60\" style=\"visibility: hidden;\">\n              <use href=\"${sprite}#shopping-cart\"></use>\n            </svg>\n            <img class=\"prod-img\" src=${img} alt=${name} loading=\"lazy\">\n          </div>\n          <h3 class=\"title-prod\">${name}</h3>\n          <div class=\"feature\">\n            <p class=\"feature-prod\">Category:<span class=\"feature-value\">${category}</span></p>\n            <p class=\"feature-prod\">Size:<span class=\"feature-value\">${size}</span></p>\n            <p class=\"feature-prod push\">Popularity:<span class=\"feature-value\">${popularity}</span></p>\n          </div>\n          <div class=\"buing-prod\">\n            <p class=\"price-prod\">&#36; ${price}</p>\n            <button class=\"buy-btn\" type=\"button\">\n            <svg class=\"card-product-svg ${check}\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#check\"></use>\n             </svg>\n             <svg class=\"card-product-svg ${card}\" width=\"18\" height=\"18\">\n             <use href=\"${sprite}#shopping-cart\"></use>\n             </svg>\n            </button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n}\n","import Pagination from 'tui-pagination';\nimport { saveData, displayProducts } from './products';\nimport {getProductsByParams} from './get-api';\n\nconst paginationContainer = document.querySelector('#pagination');\n\n\n\nnewDisplayPagination()\n\nexport async function newDisplayPagination(keyword, category) {\n\n  const paginationSearchParams = {\n    keyword: keyword || '',\n    category: category || '',\n    page: 1,\n    limit: 9,\n  }\n\n  if (window.matchMedia(\"(max-width: 375px)\").matches) {\n    paginationSearchParams.limit = 6\n  } else if (window.matchMedia(\"(min-width: 768px) and (max-width: 900px)\").matches) {\n    paginationSearchParams.limit = 8\n  }\n  const {results, totalPages} = await getProductsByParams(paginationSearchParams)\n\n  saveData('firstGet', results);\n\n  displayProducts(results)\n\n  if (totalPages > 1) {\n    const options = {\n      totalItems: results.length * totalPages,\n      itemsPerPage: paginationSearchParams.limit,\n      visiblePages: 5,\n      centerAlign: true,\n      usageStatistics: false\n    };\n\n    const pagination = new Pagination(paginationContainer, options);\n\n    pagination.on('afterMove', async (e) => {\n      paginationSearchParams.page = e.page;\n      const {results} = await getProductsByParams(paginationSearchParams)\n      displayProducts(results)\n    });\n  }\n  return\n}","import { getPopularProducts, getProductById } from './get-api';\nimport { openModal } from './modal-product';\nimport sprite from '../images/icons.svg';\n\n//import { Notify } from 'notiflix';\n//import Notiflix from 'notiflix';\n//import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n// const options = {\n//   timeout: 1000,\n//   position: 'center-center',\n//   width: '400px',\n//   fontSize: '24px',\n// };\n\nconst popularList = document.querySelector('.popular-list');\n\nconst STORAGE_KEY = 'added-itemX';\n\nfunction saveData(data) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nfunction getData() {\n  try {\n    const result = localStorage.getItem(STORAGE_KEY);\n    return result ? JSON.parse(result) : [];\n  } catch (error) {\n    console.log(error);\n  }\n}\n\ngetPopularProducts(5)\n  .then(data => {\n    popularList.insertAdjacentHTML('beforeend', createMarkup(data));\n\n    function onClick(event) {\n      let target = event.target;\n      if (target.closest('.popular-card')) {\n        const popularCard = target.closest('.popular-card');\n        const popularProductId = popularCard.getAttribute('data-js-product-id');\n        getProductById(popularProductId)\n          .then(res => {\n            openModal(res);\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      } else if (target.closest('.btn-add')) {\n        const elem = target.closest('.btn-add').nextElementSibling;\n        const btnProductId = elem.getAttribute('data-js-product-id');\n        const selectedProduct = productSelected(btnProductId, data);\n        const listProducts = getData();\n        const productAdded = listProducts.find(\n          item => item._id === selectedProduct._id\n        );\n        if (!productAdded) {\n          listProducts.push(selectedProduct);\n          saveData(listProducts);\n          //Notify.success('Product add to Order', options);\n        }\n\n        //Notify.info('Product also added to Order', options);\n        target.closest('.btn-add').classList.add('visually-hidden');\n      }\n    }\n\n    popularList.addEventListener('click', onClick);\n  })\n  .catch(error => {\n    console.error(error);\n  });\n\nfunction productSelected(val, data) {\n  const selectedProduct = data.find(product => product._id.toString() === val);\n  return selectedProduct;\n}\n\nfunction truncate(str, maxlength) {\n  return str.length > maxlength ? str.slice(0, maxlength - 1) + '…' : str;\n}\n\nfunction createMarkup(items) {\n  return items\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        category,\n        popularity,\n        size,\n        price,\n        is10PercentOff,\n      }) => {\n        // додав строку 15  та ретерн на 17\n        const firstDigit = parseInt(popularity.toString()[0]);\n        const newName = truncate(name, 14);\n\n        return `  <li class=\"popular-item\">\n            <span class=\"product-added\">\n        <svg class=\"svg-added\" width=\"12\" height=\"12\">\n          <use href=\"${sprite}#check\"></use>\n        </svg>\n      </span>\n      <button class=\"btn-add\" type=\"button\">\n        <svg class=\"svg-add\" width=\"12\" height=\"12\">\n          <use href=\"${sprite}#shopping-cart\"></use>\n        </svg>\n      </button>\n        <div class=\"popular-card\" data-js-product-id=${_id}>\n          <div class=\"popular-box-img\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\"  width=\"56\" />\n          </div>\n          <div class=\"popular-description\">\n            <h3 class=\"popular-card-title\">${newName}</h3>\n            <p class=\"popular-card-text category\">Category: <span class=\"popular-text\">${category.replace(\n              '_',\n              ' '\n            )}</span></p>\n            <div class=\"card-descr\">\n              <p class=\"popular-card-text\">Size: <span class=\"popular-text\">${size}</span></p>\n              <p class=\"popular-card-text\">Popularity: <span class=\"popular-text\">${firstDigit}</span></p>\n            </div>\n          </div>\n        </div>\n      </li>`;\n      }\n    )\n    .join('');\n}\n","const STORAGE_KEY = 'product-discount';\n\nexport function getData() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.lof(error.message);\n  }\n}\n\nexport function saveData(items) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n}\n","import sprite from '../../images/icons.svg';\n\nexport function createMarkup(items = [], idProducts = []) {\n  return items\n    .map(item => {\n      const toggle = idProducts.includes(item._id);\n\n      const check = toggle ? '' : 'is-hidden';\n\n      const card = toggle ? 'is-hidden' : '';\n\n      const newName = truncate(item.name, 14);\n\n      return ` <div class=\"card-product-discount\" data-id=\"${item._id}\">\n      ${\n        item.is10PercentOff &&\n        ` <div class=\"card-product-label\">\n      <svg>\n      <use href=\"${sprite}#icon-discount\"></use>\n      </svg>\n      </div>`\n      }\n\n    <div class=\"card-product-wrapper\">\n        <img class=\"card-product-img\"\n            src=\"${item.img}\"\n            width=\"105\" height=\"105\" alt=\"${item.desc}\" />\n    </div>\n    <div class=\"card-product-info\">\n        <h3 class=\"card-product-title\">${newName}</h3>\n        <div class=\"card-product-info-right\">\n            <p class=\"card-product-price\">&#36; ${item.price}</p>\n            <button type=\"button\" class=\"card-product-btn\" >\n            <svg class=\"card-product-svg ${check}\" width=\"18\" height=\"18\">\n            <use href=\"${sprite}#check\"></use>\n          </svg>\n          <svg class=\"card-product-svg ${card}\" width=\"18\" height=\"18\">\n          <use href=\"${sprite}#shopping-cart\"></use>\n        </svg>\n            </button>\n        </div>\n    </div>\n</div>\n`;\n    })\n    .join('');\n}\nfunction truncate(str, maxlength) {\n  return str.length > maxlength ? str.slice(0, maxlength - 1) + '…' : str;\n}\n","import { getProducts } from '../get-api';\nimport { getData, saveData } from './storage';\nimport { createMarkup } from './markup-discount';\nimport { openModal } from '../modal-product';\n\nlet products = [];\nconst productEl = document.querySelector('.products-discount');\n\nasync function onLoad() {\n  const response = await getProducts();\n\n  products = response.slice(0, 2);\n\n  const items = getData();\n\n  const idProducts = getIdProducts(items);\n\n  const markup = createMarkup(products, idProducts);\n\n  addMarkup(markup);\n}\nonLoad();\n\nfunction addMarkup(markup) {\n  productEl.insertAdjacentHTML('beforeend', markup);\n}\n\nproductEl.addEventListener('click', onClick);\nproductEl.addEventListener('click', onShowModal);\n\nfunction onClick(event) {\n  const btnEl = event.target.closest('.card-product-btn');\n  if (!btnEl) {\n    return;\n  }\n  const cardEl = event.target.closest('.card-product-discount');\n\n  const icons = btnEl.querySelectorAll('svg');\n\n  const id = cardEl.dataset.id;\n\n  //   console.log(data);\n  const items = getData();\n  if (items.find(item => id === item._id)) {\n    saveData(items.filter(item => id !== item._id));\n  } else {\n    const data = products.find(item => id === item._id);\n    items.push(data);\n    saveData(items);\n  }\n\n  icons.forEach(element => {\n    element.classList.toggle('is-hidden');\n  });\n}\n\nfunction onShowModal(event) {\n  const cardEl = event.target.closest('.card-product-discount');\n  const btnEl = event.target.closest('.card-product-btn');\n\n  if (!cardEl || btnEl) {\n    return;\n  }\n  const id = cardEl.dataset.id;\n  const data = products.find(item => id === item._id);\n  openModal(data);\n}\n\nfunction getIdProducts(items = []) {\n  return items.map(item => item._id);\n}\n","import throttle from 'lodash.throttle';\n//елементи форми та кнопки\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\nconst myButton = document.getElementById('footer-button');\n// Використовую lodash throttle, щоб обмежити виклики функції saveFormState\nconst saveFormState = throttle(() => {\n  // Зберігаю введене значення електронної пошти в localStorage\n  const formData = {\n    email: form.elements.email.value,\n  };\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n}, 500);\n// Коли сторінка завантажиться, отримати та заповнити форму збереженими даними\nwindow.addEventListener('load', () => {\n  const savedFormData = localStorage.getItem(localStorageKey);\n  if (savedFormData) {\n    const { email } = JSON.parse(savedFormData);\n    form.elements.email.value = email;\n  }\n});\n// Прослуховування вхідних подій у формі та збереження стану форми\nform.addEventListener('input', () => {\n  saveFormState();\n  validateForm();\n});\n// Прослуховування подій надсилання форми\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  const formData = {\n    email: form.elements.email.value,\n  };\n  console.log(formData);\n  localStorage.removeItem(localStorageKey);\n  form.reset();\n  validateForm(); // Підтвердити після скидання форми\n});\n// Прослуховування подій натискання кнопки\nmyButton.addEventListener('click', function () {\n  const savedFormData = localStorage.getItem(localStorageKey);\n  if (savedFormData) {\n    const { email } = JSON.parse(savedFormData);\n    form.elements.email.value = email;\n    validateForm();\n  }\n});\n// Функція перевірки форми\nconst validateForm = () => {\n  const emailValue = form.elements.email.value;\n  const isValidEmail = isValidEmailFormat(emailValue);\n  const isFilled = emailValue.trim() !== '';\n  myButton.disabled = !(isValidEmail && isFilled);\n};\n// Функція перевірки правильності формату\nconst isValidEmailFormat = email => {\n  //базовий шаблон регулярного виразу\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\n// Функція автоматичного заповнення форми збереженими даними та перевірки\nconst autoFillForm = () => {\n  const savedFormData = localStorage.getItem(localStorageKey);\n  if (savedFormData) {\n    const { email } = JSON.parse(savedFormData);\n    form.elements.email.value = email;\n    validateForm();\n  }\n};\n\nautoFillForm();\n\n//прокрутка\ndocument.body.style.overflow = 'auto';\n\n// Модалка\n(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n\n  function toggleMenu() {\n    refs.menu.classList.toggle('is-hidden');\n    document.body.classList.toggle('no-scroll');\n    document.body.style.overflow = 'hidden';\n  }\n\n  const links = Array.from(refs.menu.children);\n  links.forEach(link => {\n    link.addEventListener('click', closeOnClick);\n  });\n\n  function closeOnClick() {\n    refs.menu.classList.toggle('is-hidden');\n    document.body.classList.toggle('no-scroll');\n    document.body.style.overflow = 'auto';\n  }\n})();\n","const scrollToTopButton = document.getElementById('scrollToTopBtn');\nconst scrollOffset = 360;\n\nwindow.onscroll = function () {\n  if (\n    document.body.scrollTop > scrollOffset ||\n    document.documentElement.scrollTop > scrollOffset\n  ) {\n    scrollToTopButton.classList.add('show');\n  } else {\n    scrollToTopButton.classList.remove('show');\n  }\n};\n\nscrollToTopButton.addEventListener('click', function () {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n});\n"],"names":["FoodApi","params","key","value","encodedParams","axios","response","LocalStorage","data","options","defaultOptions","createMarkupCard","results","_id","name","img","category","size","price","popularity","productsListFilter","filterForm","filterSelect","foodApi","localStorageManager","getProductsCategories","categories","option","showAllOption","createShowAll","event","searchValue","productsArray","arrayLength","createFirstFilter","error","selectedItem","currentPage","pageProd","page","limit","productKey","firstElOnPage","limitтNumberProd","pageCounter","itemsToDisplay","i","markup","modalProduct","closeModalProductBtn","addToCartBtn","modalProductImage","modalProductName","modalProductCategory","modalProductSize","modalProductPopularity","modalProductDescription","modalProductPrice","openModal","product","outsideModalClick","closeModal","productsList","STORAGE_KEY","GetLocal","saveData","getData","result","addMarkup","el","displayProducts","createCardMarkup","items","productId","getIdProducts","toggle","onClick","onShowModal","btnEl","cardEl","icons","id","item","updatedItems","element","idProduct","dataID","check","card","sprite","paginationContainer","newDisplayPagination","keyword","paginationSearchParams","totalPages","getProductsByParams","Pagination","e","popularList","getPopularProducts","createMarkup","target","popularProductId","getProductById","res","btnProductId","selectedProduct","productSelected","listProducts","val","truncate","str","maxlength","is10PercentOff","firstDigit","newName","idProducts","products","productEl","onLoad","getProducts","form","localStorageKey","myButton","saveFormState","throttle","formData","savedFormData","email","validateForm","evt","emailValue","isValidEmail","isValidEmailFormat","isFilled","autoFillForm","refs","toggleMenu","link","closeOnClick","scrollToTopButton","scrollOffset"],"mappings":"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"}